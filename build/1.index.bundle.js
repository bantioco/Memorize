webpackJsonp([1],{

/***/ 8:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar login = function login() {\n\n    var $d = $(document);\n\n    $('.nav-btn').hide();\n    $('.nav-disconnect').hide();\n    $('.icon-login').fadeIn(300);\n\n    $.post('/templates/login.html', function (data) {\n        $('#template_load').html(data);\n        $('input').val('');\n    });\n\n    $d.off('submit', '#form_login').on('submit', '#form_login', function (e) {\n\n        e.preventDefault();\n\n        var login = $('input[name=\"user_login\"]').val();\n        var password = $('input[name=\"user_password\"]').val();\n        var remember = $('input[name=\"user_remember\"]').prop('checked');\n\n        if (window.openDatabase) {\n\n            var db = openDatabase('my_acess_db', '1.0', 'My access db', 5 * 1024 * 1024);\n\n            db.transaction(function (tx) {\n\n                tx.executeSql('SELECT * FROM user', [], function (tx, results) {\n\n                    if (results.rows[0]) {\n\n                        var datadb = results.rows[0];\n\n                        var logindb = datadb.login;\n                        var saltdb = datadb.salt;\n                        var passdb = datadb.pass;\n\n                        var decryptedData = CryptoJS.AES.decrypt(passdb, saltdb);\n                        var decrypted = decryptedData.toString(CryptoJS.enc.Utf8);\n\n                        if (logindb == login && decrypted == password) {\n\n                            if (remember === true) {\n                                tx.executeSql('UPDATE user SET remember=? where rowid=?', [\"1\", 1]);\n                            } else {\n                                tx.executeSql('UPDATE user SET remember=? where rowid=?', [\"0\", 1]);\n                            }\n\n                            new Promise(function (resolve) {\n                                __webpack_require__.e/* require.ensure */(2/* duplicate */).then((function (require) {\n                                    resolve(__webpack_require__(9));\n                                }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n                            }).then(function (app) {\n                                app.default();\n                            });\n                        } else {\n                            alert('not ok');\n                        }\n                    } else {\n                        console.log(\"error\");\n                    }\n                }, null);\n            });\n        } else {\n            console.log('fail to open database');\n        }\n    });\n\n    window.login_user = function () {\n\n        if (window.openDatabase) {\n\n            var db = openDatabase('my_acess_db', '1.0', 'My access db', 5 * 1024 * 1024);\n\n            db.transaction(function (tx) {\n\n                tx.executeSql('SELECT * FROM user', [], function (tx, results) {\n\n                    if (results.rows[0]) {\n\n                        var datadb = results.rows[0];\n\n                        return datadb;\n                    } else {\n                        return \"error\";\n                    }\n                }, null);\n            });\n        } else {\n            console.log('fail to open database');\n        }\n    };\n};\nexports.default = login;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvanMvbG9naW4uanM/YWI0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgbG9naW4gPSBmdW5jdGlvbigpe1xuXG4gICAgbGV0ICRkID0gJChkb2N1bWVudClcblxuICAgICQoJy5uYXYtYnRuJykuaGlkZSgpXG4gICAgJCgnLm5hdi1kaXNjb25uZWN0JykuaGlkZSgpXG4gICAgJCgnLmljb24tbG9naW4nKS5mYWRlSW4oMzAwKVxuXG4gICAgJC5wb3N0KCcvdGVtcGxhdGVzL2xvZ2luLmh0bWwnLCBmdW5jdGlvbiggZGF0YSApe1xuICAgICAgICAkKCcjdGVtcGxhdGVfbG9hZCcpLmh0bWwoIGRhdGEgKVxuICAgICAgICAkKCdpbnB1dCcpLnZhbCgnJylcbiAgICB9KVxuXG4gICAgJGQub2ZmKCdzdWJtaXQnLCAnI2Zvcm1fbG9naW4nKS5vbignc3VibWl0JywgJyNmb3JtX2xvZ2luJywgZnVuY3Rpb24oIGUgKXtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBsZXQgbG9naW4gICAgICAgPSAkKCdpbnB1dFtuYW1lPVwidXNlcl9sb2dpblwiXScpLnZhbCgpXG4gICAgICAgIGxldCBwYXNzd29yZCAgICA9ICQoJ2lucHV0W25hbWU9XCJ1c2VyX3Bhc3N3b3JkXCJdJykudmFsKClcbiAgICAgICAgbGV0IHJlbWVtYmVyICAgID0gJCgnaW5wdXRbbmFtZT1cInVzZXJfcmVtZW1iZXJcIl0nKS5wcm9wKCdjaGVja2VkJylcblxuICAgICAgICBpZiggd2luZG93Lm9wZW5EYXRhYmFzZSApe1xuXG4gICAgICAgICAgICB2YXIgZGIgPSBvcGVuRGF0YWJhc2UoJ215X2FjZXNzX2RiJywgJzEuMCcsICdNeSBhY2Nlc3MgZGInLCA1ICogMTAyNCAqIDEwMjQpO1xuXG4gICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodHgpIHtcblxuICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ1NFTEVDVCAqIEZST00gdXNlcicsIFtdLCBmdW5jdGlvbiAodHgsIHJlc3VsdHMpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggcmVzdWx0cy5yb3dzWzBdICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhZGIgICAgICAgICAgPSByZXN1bHRzLnJvd3NbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsb2dpbmRiICAgICAgICAgPSBkYXRhZGIubG9naW5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYWx0ZGIgICAgICAgICAgPSBkYXRhZGIuc2FsdFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhc3NkYiAgICAgICAgICA9IGRhdGFkYi5wYXNzXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNyeXB0ZWREYXRhID0gQ3J5cHRvSlMuQUVTLmRlY3J5cHQocGFzc2RiLCBzYWx0ZGIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY3J5cHRlZCA9IGRlY3J5cHRlZERhdGEudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggKGxvZ2luZGIgPT0gbG9naW4pICYmIChkZWNyeXB0ZWQgPT0gcGFzc3dvcmQpICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcmVtZW1iZXIgPT09IHRydWUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnVVBEQVRFIHVzZXIgU0VUIHJlbWVtYmVyPT8gd2hlcmUgcm93aWQ9PycsIFtcIjFcIiwgMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdVUERBVEUgdXNlciBTRVQgcmVtZW1iZXI9PyB3aGVyZSByb3dpZD0/JywgW1wiMFwiLCAxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0KCcuL2FwcC5qcycpLnRoZW4oZnVuY3Rpb24oYXBwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5kZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCggJ25vdCBvaycgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmYWlsIHRvIG9wZW4gZGF0YWJhc2UnKVxuICAgICAgICB9XG5cbiAgICB9KVxuXG5cbiAgICB3aW5kb3cubG9naW5fdXNlciA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgaWYoIHdpbmRvdy5vcGVuRGF0YWJhc2UgKXtcblxuICAgICAgICAgICAgdmFyIGRiID0gb3BlbkRhdGFiYXNlKCdteV9hY2Vzc19kYicsICcxLjAnLCAnTXkgYWNjZXNzIGRiJywgNSAqIDEwMjQgKiAxMDI0KTtcblxuICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHR4KSB7XG5cbiAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdTRUxFQ1QgKiBGUk9NIHVzZXInLCBbXSwgZnVuY3Rpb24gKHR4LCByZXN1bHRzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHJlc3VsdHMucm93c1swXSApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YWRiID0gcmVzdWx0cy5yb3dzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YWRiO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmYWlsIHRvIG9wZW4gZGF0YWJhc2UnKVxuICAgICAgICB9XG4gICAgfVxuXG59XG5leHBvcnQgZGVmYXVsdCBsb2dpblxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gYXNzZXRzL2pzL2xvZ2luLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n");

/***/ })

});