webpackJsonp([1],{3:function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){var e=$(document);$(".nav-btn").hide(),$(".nav-disconnect").hide(),$(".icon-login").fadeIn(300),$.post("/templates/login.html",function(e){$("#template_load").html(e),$("input").val("")}),e.off("submit","#form_login").on("submit","#form_login",function(e){e.preventDefault();var n=$('input[name="user_login"]').val(),t=$('input[name="user_password"]').val(),a=$('input[name="user_remember"]').prop("checked");window.openDatabase?openDatabase("my_acess_db","1.0","My access db",5242880).transaction(function(e){e.executeSql("SELECT * FROM user",[],function(e,r){if(r.rows[0]){var s=r.rows[0],i=s.login,l=s.salt,u=s.pass,c=CryptoJS.AES.decrypt(u,l).toString(CryptoJS.enc.Utf8);i==n&&c==t?(!0===a?e.executeSql("UPDATE user SET remember=? where rowid=?",["1",1]):e.executeSql("UPDATE user SET remember=? where rowid=?",["0",1]),new Promise(function(e){o.e(2).then(function(n){e(o(4))}.bind(null,o)).catch(o.oe)}).then(function(e){e.default()})):alert("not ok")}else console.log("error")},null)}):console.log("fail to open database")}),window.login_user=function(){window.openDatabase?openDatabase("my_acess_db","1.0","My access db",5242880).transaction(function(e){e.executeSql("SELECT * FROM user",[],function(e,n){return n.rows[0]?n.rows[0]:"error"},null)}):console.log("fail to open database")}}}});