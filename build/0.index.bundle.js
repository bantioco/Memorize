webpackJsonp([0],[
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar first_login = function first_login() {\n\n    var $d = $(document);\n\n    $('.nav-btn').hide();\n    $('.nav-disconnect').hide();\n    $('.icon-login').fadeIn(300);\n\n    $.post('/templates/first_login.html', function (data) {\n        $('#template_load').html(data);\n    });\n\n    $d.off('submit', '#form_first_login').on('submit', '#form_first_login', function (e) {\n\n        e.preventDefault();\n\n        var login = $('input[name=\"new_login\"]').val(),\n            email = $('input[name=\"new_email\"]').val(),\n            password = $('input[name=\"new_password\"]').val(),\n            confim_password = $('input[name=\"new_confirm_password\"]').val();\n\n        if (login.length >= 1 && email.length >= 1 && password.length >= 1 && confim_password.length >= 1) {\n\n            if (password == confim_password) {\n\n                var salt = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n                var token = Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n\n                var encrypted = CryptoJS.AES.encrypt(password, salt);\n                encrypted = encrypted.toString();\n\n                if (window.openDatabase) {\n\n                    var db = openDatabase('my_acess_db', '1.0', 'My access db', 5 * 1024 * 1024);\n\n                    db.transaction(function (tx) {\n\n                        tx.executeSql('CREATE TABLE IF NOT EXISTS user (login, email, salt, pass, token, remember)');\n\n                        tx.executeSql('INSERT INTO user (login, email, salt, pass, token, remember) VALUES (\"' + login + '\", \"' + email + '\", \"' + salt + '\", \"' + encrypted + '\", \"' + token + '\", \"0\")');\n\n                        db.transaction(function (tx) {\n\n                            tx.executeSql('SELECT * FROM user', [], function (tx, results) {\n\n                                if (results) {\n                                    new Promise(function (resolve) {\n                                        __webpack_require__.e/* require.ensure */(1/* duplicate */).then((function (require) {\n                                            resolve(__webpack_require__(8));\n                                        }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n                                    }).then(function (login) {\n                                        login.default();\n                                    });\n                                } else {\n                                    new Promise(function (resolve) {\n                                        new Promise(function(resolve) { resolve(); }).then((function (require) {\n                                            resolve(__webpack_require__(0));\n                                        }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n                                    }).then(function (first_login) {\n                                        first_login.default();\n                                    });\n                                }\n                            }, function (tx, err) {\n                                new Promise(function (resolve) {\n                                    new Promise(function(resolve) { resolve(); }).then((function (require) {\n                                        resolve(__webpack_require__(0));\n                                    }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n                                }).then(function (first_login) {\n                                    first_login.default();\n                                });\n                            });\n                        });\n                    }, function (err) {\n                        console.log(err);\n                    });\n                } else {\n                    console.log('no data base');\n                }\n            } else {\n                console.log('pass not good');\n            }\n        } else {\n            console.log('error length form data');\n        }\n    });\n};\nexports.default = first_login;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvanMvZmlyc3RfbG9naW4uanM/MDEyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgZmlyc3RfbG9naW4gPSBmdW5jdGlvbigpe1xuXG4gICAgbGV0ICRkID0gJChkb2N1bWVudClcblxuICAgICQoJy5uYXYtYnRuJykuaGlkZSgpXG4gICAgJCgnLm5hdi1kaXNjb25uZWN0JykuaGlkZSgpXG4gICAgJCgnLmljb24tbG9naW4nKS5mYWRlSW4oMzAwKVxuXG4gICAgJC5wb3N0KCcvdGVtcGxhdGVzL2ZpcnN0X2xvZ2luLmh0bWwnLCBmdW5jdGlvbiggZGF0YSApe1xuICAgICAgICAkKCcjdGVtcGxhdGVfbG9hZCcpLmh0bWwoIGRhdGEgKVxuICAgIH0pXG5cbiAgICAkZC5vZmYoJ3N1Ym1pdCcsICcjZm9ybV9maXJzdF9sb2dpbicpLm9uKCdzdWJtaXQnLCAnI2Zvcm1fZmlyc3RfbG9naW4nLCBmdW5jdGlvbiggZSApe1xuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIGxldCBsb2dpbiAgICAgICAgICAgICAgID0gJCgnaW5wdXRbbmFtZT1cIm5ld19sb2dpblwiXScpLnZhbCgpLFxuICAgICAgICAgICAgZW1haWwgICAgICAgICAgICAgICA9ICQoJ2lucHV0W25hbWU9XCJuZXdfZW1haWxcIl0nKS52YWwoKSxcbiAgICAgICAgICAgIHBhc3N3b3JkICAgICAgICAgICAgPSAkKCdpbnB1dFtuYW1lPVwibmV3X3Bhc3N3b3JkXCJdJykudmFsKCksXG4gICAgICAgICAgICBjb25maW1fcGFzc3dvcmQgICAgID0gJCgnaW5wdXRbbmFtZT1cIm5ld19jb25maXJtX3Bhc3N3b3JkXCJdJykudmFsKClcblxuICAgICAgICBpZiggbG9naW4ubGVuZ3RoID49MSAmJiBlbWFpbC5sZW5ndGggPj0xICYmIHBhc3N3b3JkLmxlbmd0aCA+PTEgJiYgY29uZmltX3Bhc3N3b3JkLmxlbmd0aCA+PTEgKXtcblxuICAgICAgICAgICAgaWYoIHBhc3N3b3JkID09IGNvbmZpbV9wYXNzd29yZCApe1xuXG4gICAgICAgICAgICAgICAgbGV0IHNhbHQgICAgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KTtcbiAgICAgICAgICAgICAgICBsZXQgdG9rZW4gICA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVuY3J5cHRlZCAgICAgICA9IENyeXB0b0pTLkFFUy5lbmNyeXB0KHBhc3N3b3JkLCBzYWx0KTtcbiAgICAgICAgICAgICAgICAgICAgZW5jcnlwdGVkICAgICAgID0gZW5jcnlwdGVkLnRvU3RyaW5nKClcblxuICAgICAgICAgICAgICAgIGlmKCB3aW5kb3cub3BlbkRhdGFiYXNlICl7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRiID0gb3BlbkRhdGFiYXNlKCdteV9hY2Vzc19kYicsICcxLjAnLCAnTXkgYWNjZXNzIGRiJywgNSAqIDEwMjQgKiAxMDI0KTtcblxuICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodHgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlciAobG9naW4sIGVtYWlsLCBzYWx0LCBwYXNzLCB0b2tlbiwgcmVtZW1iZXIpJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0lOU0VSVCBJTlRPIHVzZXIgKGxvZ2luLCBlbWFpbCwgc2FsdCwgcGFzcywgdG9rZW4sIHJlbWVtYmVyKSBWQUxVRVMgKFwiJytsb2dpbisnXCIsIFwiJytlbWFpbCsnXCIsIFwiJytzYWx0KydcIiwgXCInK2VuY3J5cHRlZCsnXCIsIFwiJyt0b2tlbisnXCIsIFwiMFwiKScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodHgpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdTRUxFQ1QgKiBGUk9NIHVzZXInLCBbXSwgZnVuY3Rpb24gKHR4LCByZXN1bHRzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggcmVzdWx0cyApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnQoJy4vbG9naW4uanMnKS50aGVuKGZ1bmN0aW9uKGxvZ2luKSB7IGxvZ2luLmRlZmF1bHQoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydCgnLi9maXJzdF9sb2dpbi5qcycpLnRoZW4oZnVuY3Rpb24oZmlyc3RfbG9naW4pIHsgZmlyc3RfbG9naW4uZGVmYXVsdCgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHR4LCBlcnIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydCgnLi9maXJzdF9sb2dpbi5qcycpLnRoZW4oZnVuY3Rpb24oZmlyc3RfbG9naW4pIHsgZmlyc3RfbG9naW4uZGVmYXVsdCgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiggZXJyICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggZXJyIClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coICdubyBkYXRhIGJhc2UnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Bhc3Mgbm90IGdvb2QnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyggJ2Vycm9yIGxlbmd0aCBmb3JtIGRhdGEnKVxuICAgICAgICB9XG4gICAgfSlcblxufVxuZXhwb3J0IGRlZmF1bHQgZmlyc3RfbG9naW5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhc3NldHMvanMvZmlyc3RfbG9naW4uanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ })
]);