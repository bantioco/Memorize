webpackJsonp([5],{

/***/ 9:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar app = function app() {\n\n    var $d = $(document),\n        login = void 0,\n        email = void 0,\n        remember = \"0\",\n        datetime = moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n        myIP = void 0;\n\n    console.log(db);\n\n    if (window.openDatabase) {\n        var db = openDatabase('my_acess_db', '1.0', 'My access db', 5 * 1024 * 1024);\n    } else {\n        new Promise(function (resolve) {\n            __webpack_require__.e/* require.ensure */(0/* duplicate */).then((function (require) {\n                resolve(__webpack_require__(0));\n            }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n        }).then(function (first_login) {\n            first_login.default();\n        });\n    }\n\n    var order = \"ASC\";\n\n    $('.icon-login').hide();\n    $('.nav-btn').fadeIn(500);\n    $('.nav-disconnect').fadeIn(500);\n\n    /***********************************************************************\n        FUNCTION\n    ************************************************************************/\n\n    var get_local_network_ip = function get_local_network_ip() {\n\n        window.RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;\n\n        var pc = new RTCPeerConnection({ iceServers: [] }),\n            noop = function noop() {};\n\n        pc.createDataChannel(\"\");\n\n        pc.createOffer(pc.setLocalDescription.bind(pc), noop);\n\n        pc.onicecandidate = function (ice) {\n\n            if (!ice || !ice.candidate || !ice.candidate.candidate) return;\n\n            myIP = /([0-9]{1,3}(\\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(ice.candidate.candidate)[1];\n\n            pc.onicecandidate = noop;\n\n            return myIP;\n        };\n    };\n\n    get_local_network_ip();\n\n    var nl2br = function nl2br(str, is_xhtml) {\n        var breakTag = is_xhtml || typeof is_xhtml === 'undefined' ? '<br />' : '<br>';\n        return (str + '').replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1' + breakTag + '$2');\n    };\n\n    var imageIsLoaded = function imageIsLoaded(e) {\n        $('#add_img_loaded').html('<img src=\"' + e.target.result + '\"/>');\n    };\n\n    var resize_img = function resize_img(file) {};\n\n    var copyFile = function copyFile(fs, path, filesrc, dirupload) {\n\n        var f = path.basename(filesrc);\n        var source = fs.createReadStream(filesrc);\n        var dest = fs.createWriteStream(path.resolve(dirupload, f));\n\n        source.pipe(dest);\n\n        source.on('end', function () {});\n        source.on('error', function (err) {\n            console.log(err);\n        });\n    };\n\n    var upload_img = function upload_img(img, $this) {\n\n        var imgsend = \"default.png\";\n\n        if (img.length >= 1) {\n\n            if ($this.files && $this.files[0]) {\n\n                var $thisfile = $this.files[0];\n                var originalfile = $thisfile.path;\n\n                var filename = $thisfile.name;\n                var filetype = $thisfile.type;\n                var filesize = $thisfile.size;\n\n                if (filetype == \"image/png\" || filetype == \"image/jpeg\") {\n\n                    copyFile(fs, path, originalfile, './upload/');\n\n                    imgsend = filename;\n                }\n            }\n        }\n\n        return imgsend;\n    };\n\n    var item_sortable = function item_sortable() {\n\n        $(\"#view_data\").sortable({\n            items: \".view-item\",\n            handle: \".grip\",\n            connectWith: \".category-view-item\",\n            opacity: 0.5,\n            axis: \"y\",\n            revert: true,\n            stop: function stop(event, ui) {\n\n                if (window.openDatabase) {\n\n                    var db = openDatabase('my_acess_db', '1.0', 'My access db', 5 * 1024 * 1024);\n\n                    $('.view-item').each(function (i, v) {\n\n                        var position = i + 1;\n\n                        $(v).attr('data-position', i);\n                        var rowid = $(v).attr('data-id');\n\n                        $(v).find('.item-position').text(position);\n\n                        db.transaction(function (tx) {\n                            tx.executeSql('UPDATE datas SET position=? WHERE rowid=?', [i, rowid]);\n                        });\n                    });\n                }\n            }\n        });\n    };\n\n    var item_droppable = function item_droppable() {\n\n        $(\".category-view-item\").droppable({\n            accept: \".view-item\",\n            over: function over(event, ui) {\n                dropped = true;\n                $(event.target).addClass('dropped');\n            },\n            drop: function drop(event, ui) {\n\n                var targetID = $(event.target).attr('data-id');\n                var clone = $(ui.draggable[0]).clone();\n\n                $(ui.draggable[0]).addClass(\"ToRemove\");\n\n                var itemID = $(ui.draggable[0]).attr('data-id');\n\n                //$('.category-view-item[data-id=\"'+targetID+'\"]').prepend( clone );\n                $(clone).insertBefore('.ui-sortable-placeholder');\n\n                $(clone).removeAttr('style');\n\n                $('.ToRemove').remove();\n\n                $('.category-view-item').removeClass('dropped');\n\n                db.transaction(function (tx) {\n\n                    tx.executeSql('UPDATE datas SET category=? WHERE rowid=?', [targetID, itemID]);\n                });\n            },\n            out: function out(event, ui) {\n\n                var itemID = $(ui.draggable[0]).attr('data-id');\n\n                db.transaction(function (tx) {\n                    tx.executeSql('UPDATE datas SET category=? WHERE rowid=?', [\"0\", itemID]);\n                });\n            }\n        });\n    };\n\n    var search_script = function search_script() {\n        /**************************************************\n            FILTER SEARCH KEYWORDS\n        **************************************************/\n        jQuery.expr[':'].icontains = function (a, i, m) {\n            var rExps = [{ re: /[\\xC0-\\xC6]/g, ch: \"A\" }, { re: /[\\xE0-\\xE6]/g, ch: \"a\" }, { re: /[\\xC8-\\xCB]/g, ch: \"E\" }, { re: /[\\xE8-\\xEB]/g, ch: \"e\" }, { re: /[\\xCC-\\xCF]/g, ch: \"I\" }, { re: /[\\xEC-\\xEF]/g, ch: \"i\" }, { re: /[\\xD2-\\xD6]/g, ch: \"O\" }, { re: /[\\xF2-\\xF6]/g, ch: \"o\" }, { re: /[\\xD9-\\xDC]/g, ch: \"U\" }, { re: /[\\xF9-\\xFC]/g, ch: \"u\" }, { re: /[\\xC7-\\xE7]/g, ch: \"c\" }, { re: /[\\xD1]/g, ch: \"N\" }, { re: /[\\xF1]/g, ch: \"n\" }];\n\n            var element = $(a).text();\n            var search = m[3];\n\n            $.each(rExps, function () {\n                element = element.replace(this.re, this.ch);\n                search = search.replace(this.re, this.ch);\n            });\n\n            return element.toUpperCase().indexOf(search.toUpperCase()) >= 0;\n        };\n        /* ..SEARCH.. */\n        $d.off('keyup', '#item_filter_keywords').on('keyup', '#item_filter_keywords', function () {\n\n            var searchvalue = $(this).val();\n\n            if (searchvalue.length >= 2) {\n                $('.keyword_data').hide();\n                //$('.modal-title-content').hide()\n                var keyword = $('.keyword_data:icontains(\"' + searchvalue + '\")').show();\n            } else {\n                $('.keyword_data').show();\n                //$('.modal-title-content').show()\n            }\n        });\n        /**************************************************\n            END -- FILTER SEARCH KEYWORDS\n        **************************************************/\n    };\n\n    var load_category = function load_category() {\n        var order = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"ASC\";\n\n\n        db.transaction(function (tx) {\n\n            tx.executeSql('SELECT rowid, * FROM category ORDER BY position ' + order, [], function (tx, results) {\n\n                if (results.rows) {\n\n                    var data = results.rows;\n\n                    $(data).each(function (i, v) {\n\n                        var category = '<div data-id=\"' + v.rowid + '\" data-position=\"' + v.position + '\" class=\"view-category\">' + '<div class=\"title-block\">' + '<div data-id=\"' + v.rowid + '\" class=\"category-hide\"><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></div>' + '<div class=\"img-category\"><img src=\"/upload/' + v.img + '\"></div>' + '<div class=\"title-category\">' + v.title + '</div>' + '</div>' + '<div data-id=\"' + v.rowid + '\" class=\"category-view-item\"></div>';\n                        '</div>';\n\n                        $('#view_data').prepend(category);\n\n                        $('.category-hide[data-id=\"' + v.rowid + '\"]').children('i').css('transform', 'rotate(45deg)');\n                    });\n                }\n            });\n        });\n    };\n\n    var load_data = function load_data() {\n        var order = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"ASC\";\n\n\n        load_category();\n\n        setTimeout(function () {\n\n            if (window.openDatabase) {\n\n                var db = openDatabase('my_acess_db', '1.0', 'My access db', 5 * 1024 * 1024);\n\n                db.transaction(function (tx) {\n\n                    tx.executeSql('SELECT rowid, * FROM datas ORDER BY position ' + order, [], function (tx, results) {\n\n                        if (results.rows) {\n\n                            var data = results.rows;\n\n                            $(data).each(function (i, v) {\n\n                                var description = v.description;\n\n                                if (v.encrypted === \"1\") {\n\n                                    tx.executeSql(\"SELECT key FROM encryption\", [], function (tx, results) {\n                                        if (results.rows[0]) {\n\n                                            var key = results.rows[0].key;\n\n                                            description = CryptoJS.AES.decrypt(v.description, key);\n                                            description = description.toString(CryptoJS.enc.Utf8);\n\n                                            var item = '<div data-id=\"' + v.rowid + '\" data-position=\"' + v.position + '\" class=\"view-item keyword_data\">' + '<div class=\"nav-item\">' + '<div data-id=\"' + v.rowid + '\" class=\"hide-item\"><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></div>' + '<div class=\"title-item\">' + v.title + '</div>' + '<div data-id=\"' + v.rowid + '\" class=\"grip-notice\">Drag me..</div>' + '<div data-id=\"' + v.rowid + '\" class=\"grip\"><i class=\"fa fa-paw\" aria-hidden=\"true\"></i></div>' + '<div class=\"btn-nav\"><i data-id=\"' + v.rowid + '\" class=\"fa fa-trash view_item_delete\" aria-hidden=\"true\"></i></div>' + '<div class=\"btn-nav\"><i data-id=\"' + v.rowid + '\" class=\"fa fa-pencil view_item_edit\" aria-hidden=\"true\"></i></div>' + '</div>' + '<div data-id=\"' + v.rowid + '\" class=\"item-delete-confirmation\">' + '<div class=\"item_confirm_delete\">DELETE</div><div class=\"item_cancel_delete\">CANCEL</div>' + '</div>' + '<div data-id=\"' + v.rowid + '\" class=\"description-item\">' + '<div class=\"img\"><img src=\"/upload/' + v.img + '\" alt=\"\" /></div>' + '<div class=\"text\">' + description + '</div>' + '</div>' + '<div class=\"date-item\">' + '<div class=\"item-encrypt\">Encrypted..</div>' + '<div class=\"item-position\">' + position + '</div>' + '<div class=\"date-up\">Updated : ' + v.dateupdate + '</div>' + '</div>' + '</div>';\n\n                                            if (v.category != \"0\") {\n\n                                                if ($('.category-view-item[data-id=\"' + v.category + '\"]').is(':visible')) {\n\n                                                    $('.category-view-item[data-id=\"' + v.category + '\"]').append(item);\n                                                } else {\n\n                                                    $('#view_data').append(item);\n                                                }\n                                            } else {\n                                                $('#view_data').append(item);\n                                            }\n                                        }\n                                    });\n                                } else {\n                                    var item = '<div data-id=\"' + v.rowid + '\" data-position=\"' + v.position + '\" class=\"view-item keyword_data\">' + '<div class=\"nav-item\">' + '<div data-id=\"' + v.rowid + '\" class=\"hide-item\"><i class=\"fa fa-angle-down\" aria-hidden=\"true\"></i></div>' + '<div class=\"title-item\">' + v.title + '</div>' + '<div data-id=\"' + v.rowid + '\" class=\"grip-notice\">Drag me..</div>' + '<div data-id=\"' + v.rowid + '\" class=\"grip\"><i class=\"fa fa-paw\" aria-hidden=\"true\"></i></div>' + '<div class=\"btn-nav\"><i data-id=\"' + v.rowid + '\" class=\"fa fa-trash view_item_delete\" aria-hidden=\"true\"></i></div>' + '<div class=\"btn-nav\"><i data-id=\"' + v.rowid + '\" class=\"fa fa-pencil view_item_edit\" aria-hidden=\"true\"></i></div>' + '</div>' + '<div data-id=\"' + v.rowid + '\" class=\"item-delete-confirmation\">' + '<div class=\"item_confirm_delete\">DELETE</div><div class=\"item_cancel_delete\">CANCEL</div>' + '</div>' + '<div data-id=\"' + v.rowid + '\" class=\"description-item\">' + '<div class=\"img\"><img src=\"/upload/' + v.img + '\" alt=\"\" /></div>' + '<div class=\"text\">' + description + '</div>' + '</div>' + '<div class=\"date-item\">' + '<div class=\"item-encrypt\">Not encrypted..</div>' + '<div class=\"item-position\">' + position + '</div>' + '<div class=\"date-up\">Updated : ' + v.dateupdate + '</div>' + '</div>' + '</div>';\n\n                                    if (v.category != \"0\") {\n\n                                        if ($('.category-view-item[data-id=\"' + v.category + '\"]').is(':visible')) {\n\n                                            $('.category-view-item[data-id=\"' + v.category + '\"]').append(item);\n                                        } else {\n                                            $('#view_data').append(item);\n                                        }\n                                    } else {\n                                        $('#view_data').append(item);\n                                    }\n                                }\n\n                                var position = i + 1;\n\n                                tx.executeSql('UPDATE datas SET position=? WHERE rowid=?', [i, v.rowid]);\n                            });\n\n                            item_sortable();\n\n                            search_script();\n\n                            setTimeout(function () {\n                                item_droppable();\n                            }, 2000);\n                        }\n                    });\n                });\n            } else {\n                new Promise(function (resolve) {\n                    __webpack_require__.e/* require.ensure */(0/* duplicate */).then((function (require) {\n                        resolve(__webpack_require__(0));\n                    }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n                }).then(function (first_login) {\n                    first_login.default();\n                });\n            }\n        }, 500);\n    };\n\n    var backup_database = function backup_database(table) {\n\n        var data = new Object();\n\n        db.transaction(function (tx) {\n\n            tx.executeSql(\"SELECT * FROM \" + table, [], function (tx, results) {\n\n                if (results) {\n                    $(results.rows).each(function (i, v) {\n                        data[i] = v;\n                    });\n                    return data;\n                } else {\n                    return null;\n                }\n            });\n        }, null);\n    };\n\n    var backup = function backup(table) {\n\n        var def = new $.Deferred();\n\n        db.readTransaction(function (tx) {\n\n            tx.executeSql(\"SELECT * FROM \" + table, [], function (tx, results) {\n\n                var data = results.rows;\n\n                def.resolve(data);\n            });\n        }, null);\n\n        return def;\n    };\n\n    var get_synchronise_table = function get_synchronise_table() {\n\n        var thekey = new $.Deferred();\n\n        db.transaction(function (tx) {\n\n            tx.executeSql(\"SELECT * FROM synchronize\", [], function (tx, results) {\n\n                if (results) {\n                    thekey.resolve(results.rows[0].key);\n                } else {\n                    thekey.resolve('null');\n                }\n            });\n        }, function (err) {\n            console.log(err);\n            thekey.resolve('null');\n        });\n\n        return thekey;\n    };\n\n    var generate_key = function generate_key() {\n        var text = \"\";\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n        for (var i = 0; i < 50; i++) {\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\n        }return text;\n    };\n\n    var create_synchronise_table = function create_synchronise_table() {\n\n        db.transaction(function (tx) {\n\n            var key = generate_key();\n\n            tx.executeSql('CREATE TABLE IF NOT EXISTS synchronize (key, active, datestart DATETIME)');\n\n            tx.executeSql('INSERT INTO synchronize (key, active, datestart) VALUES (\"' + key + '\", \"1\", \"' + datetime + '\")');\n\n            tx.executeSql('CREATE TABLE IF NOT EXISTS synchronize_autorized (key, ip, machine, dateadd DATETIME)');\n\n            tx.executeSql('CREATE TABLE IF NOT EXISTS synchronize_log (ip, key, datelog DATETIME)');\n        }, function (err) {\n\n            console.log(err);\n        });\n\n        return;\n    };\n\n    var delete_synchronise_table = function delete_synchronise_table() {\n\n        db.transaction(function (tx) {\n\n            // FOR DEV...\n            tx.executeSql(\"DROP TABLE synchronize\", [], function (tx, results) {\n                console.log(\"Successfully Dropped synchronize\");\n            }, function (tx, error) {\n                console.log(\"Could not delete synchronize\");\n            });\n\n            // FOR DEV...\n            tx.executeSql(\"DROP TABLE synchronize_autorized\", [], function (tx, results) {\n                console.log(\"Successfully Dropped synchronize_autorized\");\n            }, function (tx, error) {\n                console.log(\"Could not delete synchronize_autorized\");\n            });\n\n            // FOR DEV...\n            tx.executeSql(\"DROP TABLE synchronize_log\", [], function (tx, results) {\n                console.log(\"Successfully Dropped synchronize_log\");\n            }, function (tx, error) {\n                console.log(\"Could not delete synchronize_log\");\n            });\n        });\n    };\n\n    var get_server_sync_on_start = function get_server_sync_on_start() {\n\n        var key = null;\n\n        $.when(get_synchronise_table()).then(function (thiskey) {\n\n            if (thiskey != 'null') {\n                key = thiskey;\n                setTimeout(function () {\n                    http_server_start(myIP, key);\n                }, 1500);\n            }\n        });\n    };\n    get_server_sync_on_start();\n\n    var sync_data_check = function sync_data_check(str) {\n\n        var def = new $.Deferred();\n\n        db.readTransaction(function (tx) {\n\n            tx.executeSql(\"SELECT * FROM datas WHERE title=?\", [str], function (tx, results) {\n\n                if (results) {\n                    var item = results.rows;\n                    def.resolve(item);\n                } else {\n                    def = \"no_data\";\n                }\n            });\n        }, function (err) {\n            console.log(err);\n        });\n\n        return def;\n    };\n\n    var sync_data_insert = function sync_data_insert(data) {\n\n        var title = data.title;\n        var description = data.description;\n        var img = \"default.png\";\n        var position = \"0\";\n        var dateadd = data.dateadd;\n        var dateupdate = data.dateupdate;\n        var encrypted = data.encrypted;\n\n        db.transaction(function (tx) {\n            tx.executeSql(\"CREATE TABLE IF NOT EXISTS datas (title, description LONGTEXT, img, position, dateadd DATETIME, dateupdate DATETIME, encrypted VARCHAR NOT NULL DEFAULT '0')\");\n            tx.executeSql('INSERT INTO datas (title, description, img, position, dateadd, dateupdate, encrypted) VALUES (\"' + title + '\", \"' + description + '\", \"' + img + '\", \"' + position + '\", \"' + dateadd + '\", \"' + dateupdate + '\", \"' + encrypted + '\")');\n        });\n\n        /*\n        db.transaction(function(tx) {\n            tx.executeSql('INSERT INTO datas (title, description, img, position, dateadd, dateupdate, encrypted) VALUES (\"'+title+'\", \"'+description+'\", \"'+img+'\", \"'+position+'\", \"'+dateadd+'\", \"'+dateupdate+'\", \"'+encrypted+'\")');\n        })\n        */\n    };\n\n    var get_encryption = function get_encryption() {\n\n        var data = new $.Deferred();\n\n        db.transaction(function (tx) {\n\n            tx.executeSql(\"CREATE TABLE IF NOT EXISTS encryption (key, state VARCHAR NOT NULL DEFAULT '0')\");\n\n            tx.executeSql(\"SELECT rowid, * FROM encryption\", [], function (tx, results) {\n\n                if (results.rows[0]) {\n                    data.resolve(results.rows[0]);\n                } else {\n                    data.resolve('null');\n                }\n            });\n        }, function (err) {\n            console.log(err);\n            data.resolve('null');\n        });\n\n        return data;\n    };\n\n    var add_key_encryption = function add_key_encryption(str) {\n\n        db.transaction(function (tx) {\n\n            tx.executeSql(\"SELECT * FROM encryption\", [], function (tx, results) {\n\n                if (results.rows[0]) {\n                    tx.executeSql('UPDATE encryption SET key=? where rowid=?', [str, 1]);\n                } else {\n\n                    tx.executeSql('INSERT INTO encryption (key) VALUES (\"' + str + '\")');\n                }\n            });\n        });\n    };\n\n    var encryption_state_value = function encryption_state_value(value) {\n\n        db.transaction(function (tx) {\n\n            if (value === \"1\") {\n                tx.executeSql('UPDATE encryption SET state=? where rowid=?', [\"1\", 1]);\n\n                tx.executeSql(\"SELECT key FROM encryption\", [], function (tx, results) {\n                    if (results.rows[0]) {\n                        var key = results.rows[0].key;\n\n                        crypt_data(key);\n                    }\n                });\n            }\n\n            if (value === \"0\") {\n                tx.executeSql('UPDATE encryption SET state=? where rowid=?', [\"0\", 1]);\n\n                tx.executeSql(\"SELECT key FROM encryption\", [], function (tx, results) {\n                    if (results.rows[0]) {\n                        var key = results.rows[0].key;\n                        decrypt_data(key);\n                    }\n                });\n            }\n        });\n    };\n\n    var crypt_data = function crypt_data(key) {\n\n        db.transaction(function (tx) {\n\n            tx.executeSql(\"SELECT rowid, * FROM datas\", [], function (tx, results) {\n\n                if (results) {\n\n                    $.each(results.rows, function (k, v) {\n\n                        var description_encrypt = CryptoJS.AES.encrypt(v.description, key);\n                        description_encrypt = description_encrypt.toString();\n\n                        var id = v.rowid;\n\n                        if (v.encrypted === \"0\") {\n                            tx.executeSql('UPDATE datas SET description=? where rowid=?', [description_encrypt, id]);\n                            tx.executeSql('UPDATE datas SET encrypted=? where rowid=?', [\"1\", id]);\n                        }\n                    });\n                }\n            });\n        });\n    };\n\n    var decrypt_data = function decrypt_data(key) {\n\n        db.transaction(function (tx) {\n\n            tx.executeSql(\"SELECT rowid, * FROM datas\", [], function (tx, results) {\n\n                if (results) {\n\n                    $.each(results.rows, function (k, v) {\n\n                        var description_decrypt = CryptoJS.AES.decrypt(v.description, key);\n                        description_decrypt = description_decrypt.toString(CryptoJS.enc.Utf8);\n\n                        var id = v.rowid;\n\n                        if (v.encrypted === \"1\") {\n                            tx.executeSql('UPDATE datas SET description=? where rowid=?', [description_decrypt, id]);\n                            tx.executeSql('UPDATE datas SET encrypted=? where rowid=?', [\"0\", id]);\n                        }\n                    });\n                }\n            });\n        });\n    };\n\n    var backup_download = function backup_download() {\n\n        //GET BACKUP DATA BASE\n        var file = path.basename('/data') + \"/datas.json\";\n        fs.exists(file, function (exists) {\n\n            if (exists) {\n\n                $('#result_export_database_file').show();\n\n                fs.readFile(file, 'utf8', function (err, data) {\n\n                    if (!err) {\n                        var download = \"text/json;charset=utf-8,\" + encodeURIComponent(data);\n                        $('<a href=\"data:' + download + '\" download=\"datas.json\">Download JSON file</a>').appendTo('#result_export_database_file');\n                    }\n                });\n            }\n        });\n    };\n\n    /***********************************************\n        **FOR DEV**\n    ***********************************************/\n    var add_column = function add_column() {\n\n        db.transaction(function (tx) {\n\n            tx.executeSql(\"SELECT encrypted FROM datas\", [], function (tx, results) {});\n        }, function (err) {\n            console.log(err);\n            if (err.message === \"could not prepare statement (1 no such column: encrypted)\") {\n                db.transaction(function (tx) {\n                    tx.executeSql(\"ALTER TABLE datas ADD encrypted VARCHAR NOT NULL DEFAULT '0' \");\n                });\n            }\n        });\n\n        db.transaction(function (tx) {\n\n            tx.executeSql(\"SELECT category FROM datas\", [], function (tx, results) {});\n        }, function (err) {\n            console.log(err);\n            if (err.message === \"could not prepare statement (1 no such column: category)\") {\n                db.transaction(function (tx) {\n                    tx.executeSql(\"ALTER TABLE datas ADD category VARCHAR NOT NULL DEFAULT '0' \");\n                });\n            }\n        });\n\n        db.transaction(function (tx) {\n\n            tx.executeSql(\"SELECT state FROM encryption\", [], function (tx, results) {});\n        }, function (err) {\n            console.log(err);\n            if (err.message === \"could not prepare statement (1 no such column: state)\") {\n                db.transaction(function (tx) {\n                    tx.executeSql(\"ALTER TABLE encryption ADD state VARCHAR NOT NULL DEFAULT '0' \");\n                });\n            }\n        });\n    };\n    add_column();\n    /***********************************************\n        END **FOR DEV**\n    ***********************************************/\n\n    /***********************************************************************\n        START\n    ************************************************************************/\n    $('#app_nav').show();\n\n    db.transaction(function (tx) {\n\n        tx.executeSql('SELECT * FROM user', [], function (tx, results) {\n\n            if (results.rows[0]) {\n                var user = results.rows[0];\n\n                login = user.login;\n                email = user.email;\n                remember = user.remember;\n            }\n        });\n    });\n\n    // ** ON START LOAD VIEW.HTML **\n    $.post('/templates/view.html', function (data) {\n\n        $('#template_load').html(data);\n\n        load_data(order);\n    });\n\n    /***********************************************************************\n        NAVIGATION\n    ************************************************************************/\n\n    $d.off('click', '#return_home').on('click', '#return_home', function () {\n        $.post('/templates/view.html', function (data) {\n\n            $('#template_load').html(data);\n\n            load_data(order);\n        });\n    });\n\n    $d.off('click', '#show_params').on('click', '#show_params', function () {\n\n        $.post('/templates/params.html', function (data) {\n\n            $('#template_load').html(data);\n\n            var key = null;\n\n            //GET SYNCHRONIZE & ENCRYPTION..\n            $.when(get_synchronise_table(), get_encryption()).then(function (data, encryption) {\n\n                // SYNCHRONISE DATA\n                if (data != 'null') {\n                    key = data;\n\n                    $('#open_browser_localhost').fadeIn(300);\n\n                    $('#load_link_for_sync').html('http://' + myIP + ':3000/' + key);\n\n                    $('#a_link_share_sync').attr('href', 'mailto:?subject=The link for share my access. Remove this email after sync app...&&cc=' + email + '&body=http://' + myIP + ':3000/' + key);\n\n                    $('input[name=\"http_server\"]').prop('checked', true);\n                }\n\n                // ENCRYPTION DATA\n                if (encryption != 'null' || encryption != null) {\n\n                    $('#params_encryption').val(encryption.key);\n                    $('#params_encrypt_data_state').show();\n\n                    if (encryption.state === \"1\") {\n                        $('input#encrypt_data').prop('checked', true);\n                        $('#params_encryption').prop('readonly', true);\n                        $('#params_encryption').prop('disabled', true);\n                    } else {\n                        $('input#encrypt_data').prop('checked', false);\n                        $('#params_encryption').prop('readonly', false);\n                        $('#params_encryption').prop('disabled', false);\n                    }\n                }\n            });\n\n            // GET REMEMBER\n            if (remember === \"1\") {\n                $('input[name=\"params_remember\"]').prop('checked', true);\n            } else {\n                $('input[name=\"params_remember\"]').prop('checked', false);\n            }\n\n            backup_download();\n\n            $('#get_api_for_synchronize_result_html').remove();\n        });\n    });\n\n    $d.off('click', '#add_data').on('click', '#add_data', function () {\n        $.post('/templates/add.html', function (data) {\n            $('#template_load').html(data);\n        });\n    });\n\n    $d.off('click', '#add_category').on('click', '#add_category', function () {\n        $.post('/templates/add_category.html', function (data) {\n            $('#template_load').html(data);\n        });\n    });\n\n    $d.off('click', '#app_return').on('click', '#app_return', function () {\n        $.post('/templates/view.html', function (data) {\n            $('#template_load').html(data);\n            add_navigation();\n        });\n    });\n\n    $d.off('click', '#app_disconnect').on('click', '#app_disconnect', function () {\n\n        db.transaction(function (tx) {\n\n            tx.executeSql('SELECT * FROM user', [], function (tx, results) {\n\n                tx.executeSql('UPDATE user SET remember=? where rowid=?', [\"0\", 1], function (tx) {\n                    new Promise(function (resolve) {\n                        new Promise(function(resolve) { resolve(); }).then((function (require) {\n                            resolve(__webpack_require__(8));\n                        }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);\n                    }).then(function (login) {\n                        login.default();\n                    });\n                });\n            });\n        });\n    });\n\n    /***********************************************************************\n        PARAMS\n    ************************************************************************/\n\n    $d.off('change', 'input[name=\"http_server\"]').on('change', 'input[name=\"http_server\"]', function () {\n\n        var val = $(this).prop('checked');\n\n        var key = null;\n\n        if (val == true) {\n\n            $.when(get_synchronise_table()).then(function (thiskey) {\n\n                if (thiskey != 'null') {\n                    key = thiskey;\n                    $('#open_browser_localhost').fadeIn(300);\n                    $('#load_link_for_sync').html('http://' + myIP + ':3000/' + key);\n                    $('#a_link_share_sync').attr('href', 'mailto:?subject=The link for share my access app&&cc=' + email + '&body=http://' + myIP + ':3000/' + key);\n                } else {\n\n                    create_synchronise_table();\n\n                    $.when(get_synchronise_table()).then(function (newkey) {\n                        key = newkey;\n                        $('#open_browser_localhost').fadeIn(300);\n                        $('#load_link_for_sync').html('http://' + myIP + ':3000/' + key);\n                        $('#a_link_share_sync').attr('href', 'mailto:?subject=The link for share my access app&&cc=' + email + '&body=http://' + myIP + ':3000/' + key);\n                    });\n                }\n            });\n\n            setTimeout(function () {\n                win_reload();\n            }, 1500);\n        } else {\n\n            $('#open_browser_localhost').fadeOut(300);\n            $('#sync_key_show').remove();\n\n            delete_synchronise_table();\n\n            setTimeout(function () {\n                win_reload();\n            }, 1000);\n        }\n    });\n\n    $d.off('change', 'input[name=\"params_remember\"]').on('change', 'input[name=\"params_remember\"]', function () {\n\n        var val = $(this).prop('checked');\n\n        db.transaction(function (tx) {\n\n            tx.executeSql('SELECT * FROM user', [], function (tx, results) {\n\n                if (val == true) {\n                    tx.executeSql('UPDATE user SET remember=? where rowid=?', [\"1\", 1]);\n                    remember = \"1\";\n                } else {\n                    tx.executeSql('UPDATE user SET remember=? where rowid=?', [\"0\", 1]);\n\n                    remember = \"0\";\n                }\n            });\n        });\n    });\n\n    $d.off('change', 'input[name=\"export_database\"]').on('change', 'input[name=\"export_database\"]', function () {\n\n        var val = $(this).prop('checked');\n\n        if (val == true) {\n\n            //let datasdata   = backup_database(\"datas\");\n\n            $.when(backup(\"datas\"), backup(\"user\")).then(function (datas, user) {\n\n                if (datas.length >= 1) {\n\n                    $('input[name=\"export_database\"]').hide();\n                    $('#result_export_database').fadeIn(300).append('<small>Data succesfully exported</small>');\n\n                    var datadatas = { datas: datas };\n                    var serializedDataData = JSON.stringify(datadatas);\n\n                    fs.writeFile(\"data/datas.json\", serializedDataData, function (err) {\n\n                        if (err) {\n                            console.error(err);\n                            return;\n                        };\n\n                        $('input[name=\"export_database\"]').prop('checked', false);\n\n                        if ($('#result_export_database_file').is(':hidden')) {\n                            backup_download();\n                        }\n                    });\n                }\n\n                if (user.length >= 1) {\n                    $('input[name=\"export_database\"]').hide();\n                    $('#result_export_database').fadeIn(300).append('<small>User succesfully exported</small>');\n\n                    var datauser = { user: user };\n                    var serializedDataUser = JSON.stringify(datauser);\n                }\n\n                setTimeout(function () {\n                    $('#result_export_database').fadeOut(300).html('');\n                    $('input[name=\"export_database\"]').show(300);\n                }, 3000);\n            });\n        }\n    });\n\n    $d.off('click', '#get_api_for_synchronize').on('click', '#get_api_for_synchronize', function (e) {\n\n        e.preventDefault();\n\n        var apilink = $('#api_for_synchronize').val();\n\n        $('#get_api_for_synchronize_result_html').remove();\n\n        if (apilink.length >= 25) {\n\n            $.getJSON(apilink, function (data) {\n\n                if (data) {\n\n                    var items = data.datas;\n\n                    $.each(items, function (k, v) {\n\n                        var title = v.title;\n\n                        $.when(sync_data_check(title)).then(function (items) {\n\n                            if (items.length <= 0) {\n                                sync_data_insert(v);\n                                $('#get_api_for_synchronize_result').html('<div id=\"get_api_for_synchronize_result_html\">' + title + ' insered..</div>');\n                            } else {\n                                $('#get_api_for_synchronize_result').html('<div id=\"get_api_for_synchronize_result_html\">All items are allready on database..</div>');\n                            }\n                        });\n                    });\n                }\n            });\n        } else if (apilink.length === 0) {\n            $('#api_for_synchronize').val(\"Enter link in field..\");\n\n            setTimeout(function () {\n                $('#api_for_synchronize').val(apilink);\n            }, 2000);\n        } else {\n            $('#api_for_synchronize').val(\"Link is not valid...\");\n\n            setTimeout(function () {\n                $('#api_for_synchronize').val(apilink);\n            }, 2000);\n        }\n    });\n\n    $d.off('click', '#send_params_encryption').on('click', '#send_params_encryption', function (e) {\n        e.preventDefault();\n\n        var value = $('#params_encryption').val();\n\n        if (value.length >= 8) {\n            add_key_encryption(value);\n\n            $('#params_encryption_result').html('<div id=\"params_encryption_result_html\">Added !</div>');\n            setTimeout(function () {\n                $('#params_encryption_result_html').remove();\n            }, 1500);\n        } else {\n            $('#params_encryption').val('8 print minimum required..');\n            setTimeout(function () {\n                $('#params_encryption').val(value);\n            }, 2000);\n        }\n    });\n\n    $d.off('change', 'input[name=\"encrypt_data\"]').on('change', 'input[name=\"encrypt_data\"]', function () {\n\n        var val = $(this).prop('checked');\n\n        if (val == true) {\n            encryption_state_value(\"1\");\n            $('#params_encryption').prop('readonly', true);\n            $('#params_encryption').prop('disabled', true);\n\n            $('#encrypt_data_result').html('<div id=\"encrypt_data_result_html\">Crypted !</div>');\n            setTimeout(function () {\n                $('#encrypt_data_result_html').remove();\n            }, 1500);\n        } else {\n            encryption_state_value(\"0\");\n            $('#params_encryption').prop('readonly', false);\n            $('#params_encryption').prop('disabled', false);\n\n            $('#encrypt_data_result').html('<div id=\"encrypt_data_result_html\">Decrypted !</div>');\n            setTimeout(function () {\n                $('#encrypt_data_result_html').remove();\n            }, 1500);\n        }\n    });\n\n    $d.off('change', 'input[name=\"import_database\"]').on('change', 'input[name=\"import_database\"]', function () {\n\n        var file = $(this).val();\n\n        fs.readFile(file, 'utf8', function (err, data) {\n            if (err) {\n                console.log(err);\n            } else {\n\n                var json = $.parseJSON(data);\n                var jsondata = json.datas;\n\n                $.each(jsondata, function (k, v) {\n\n                    var title = v.title;\n\n                    $.when(sync_data_check(title)).then(function (items) {\n\n                        if (items.length <= 0) {\n\n                            sync_data_insert(v);\n                            $('#result_import_database').text(v.title + ' insered in database..').show();\n                        } else {\n                            $('#result_import_database').text('All items are allready on database..').show();\n                        }\n                    });\n                });\n            }\n        });\n    });\n\n    /***********************************************************************\n        ADD DATA\n    ************************************************************************/\n    $d.off('change', 'input[name=\"add_img\"]').on('change', 'input[name=\"add_img\"]', function () {\n\n        if (this.files && this.files[0]) {\n\n            var reader = new FileReader();\n            reader.onload = imageIsLoaded;\n\n            reader.readAsDataURL(this.files[0]);\n        }\n    });\n\n    $d.off('submit', '#form_add_data').on('submit', '#form_add_data', function (e) {\n        e.preventDefault();\n\n        var title = $('input[name=\"add_title\"]').val();\n        var description = nl2br($('textarea[name=\"add_description\"]').val());\n\n        if (title.length >= 1 && description.length >= 1) {\n\n            var img = $('input[name=\"add_img\"]').val();\n\n            var $this = $('input[name=\"add_img\"]')[0];\n\n            var imgsend = upload_img(img, $this);\n\n            db.transaction(function (tx) {\n\n                tx.executeSql(\"CREATE TABLE IF NOT EXISTS datas (title, description LONGTEXT, img, position, dateadd DATETIME, dateupdate DATETIME, encrypted VARCHAR NOT NULL DEFAULT '0', category VARCHAR NOT NULL DEFAULT '0')\");\n\n                tx.executeSql(\"SELECT key FROM encryption\", [], function (tx, results) {\n                    if (results.rows[0]) {\n\n                        var key = results.rows[0].key;\n\n                        var description_encrypt = CryptoJS.AES.encrypt(description, key);\n                        description_encrypt = description_encrypt.toString();\n\n                        tx.executeSql('INSERT INTO datas (title, description, img, dateadd, dateupdate, encrypted, category) VALUES (\"' + title + '\", \"' + description_encrypt + '\", \"' + imgsend + '\", \"' + datetime + '\", \"' + datetime + '\", \"1\", \"0\")');\n                    } else {\n                        tx.executeSql('INSERT INTO datas (title, description, img, dateadd, dateupdate, encrypted, category) VALUES (\"' + title + '\", \"' + description + '\", \"' + imgsend + '\", \"' + datetime + '\", \"' + datetime + '\", \"0\", \"0\")');\n                    }\n                });\n\n                //tx.executeSql('INSERT INTO datas (title, description, img, dateadd, dateupdate) VALUES (\"'+title+'\", \"'+description+'\", \"'+imgsend+'\", \"'+datetime+'\", \"'+datetime+'\")');\n\n                $('input[name=\"add_title\"]').val('');\n                $('textarea[name=\"add_description\"]').val('');\n                $('file[name=\"add_img\"]').val('');\n\n                $.post('/templates/view.html', function (data) {\n\n                    $('#template_load').html(data);\n\n                    load_data(order);\n                });\n            });\n        } else {\n\n            if (title.length <= 0) {\n\n                $('input[name=\"add_title\"]').val('this field is empty..');\n\n                setTimeout(function () {\n                    $('input[name=\"add_title\"]').val(title);\n                }, 2000);\n            }\n\n            if (description.length <= 0) {\n\n                $('textarea[name=\"add_description\"]').val('this field is empty..');\n\n                setTimeout(function () {\n                    $('textarea[name=\"add_description\"]').val(description);\n                }, 2000);\n            }\n        }\n    });\n\n    /***********************************************************************\n        ADD CATEGORY\n    ************************************************************************/\n    $d.off('change', 'input[name=\"add_category_img\"]').on('change', 'input[name=\"add_category_img\"]', function () {\n\n        if (this.files && this.files[0]) {\n\n            var reader = new FileReader();\n            reader.onload = imageIsLoaded;\n\n            reader.readAsDataURL(this.files[0]);\n        }\n    });\n\n    $d.off('submit', '#form_add_category').on('submit', '#form_add_category', function (e) {\n        e.preventDefault();\n\n        var title = $('input[name=\"add_category_title\"]').val();\n        var description = nl2br($('textarea[name=\"add_category_description\"]').val());\n\n        if (title.length >= 1 && description.length >= 1) {\n\n            var img = $('input[name=\"add_category_img\"]').val();\n\n            var $this = $('input[name=\"add_category_img\"]')[0];\n\n            var imgsend = upload_img(img, $this);\n\n            db.transaction(function (tx) {\n\n                tx.executeSql(\"CREATE TABLE IF NOT EXISTS category (title, description LONGTEXT, img, position, dateadd DATETIME, dateupdate DATETIME)\");\n\n                tx.executeSql('INSERT INTO category (title, description, img, dateadd, dateupdate) VALUES (\"' + title + '\", \"' + description + '\", \"' + imgsend + '\", \"' + datetime + '\", \"' + datetime + '\")');\n\n                $('input[name=\"add_category_title\"]').val('');\n                $('textarea[name=\"add_category_description\"]').val('');\n                $('file[name=\"add_category_img\"]').val('');\n\n                $.post('/templates/view.html', function (data) {\n\n                    $('#template_load').html(data);\n\n                    load_data(order);\n                });\n            });\n        } else {\n\n            if (title.length <= 0) {\n\n                $('input[name=\"add_category_title\"]').val('this field is empty..');\n\n                setTimeout(function () {\n                    $('input[name=\"add_category_title\"]').val(title);\n                }, 2000);\n            }\n\n            if (description.length <= 0) {\n\n                $('textarea[name=\"add_category_description\"]').val('this field is empty..');\n\n                setTimeout(function () {\n                    $('textarea[name=\"add_category_description\"]').val(description);\n                }, 2000);\n            }\n        }\n    });\n\n    /***********************************************************************\n        EDIT DATA\n    ************************************************************************/\n    $d.off('change', 'input[name=\"edit_img\"]').on('change', 'input[name=\"edit_img\"]', function () {\n\n        if (this.files && this.files[0]) {\n\n            var reader = new FileReader();\n            reader.onload = imageIsLoaded;\n\n            reader.readAsDataURL(this.files[0]);\n        }\n    });\n\n    $d.off('click', '.view_item_edit').on('click', '.view_item_edit', function () {\n\n        var rowid = $(this).attr('data-id');\n\n        $.post('/templates/edit.html', function (data) {\n\n            $('#template_load').html(data);\n\n            db.transaction(function (tx) {\n\n                tx.executeSql('SELECT * FROM datas WHERE rowid=?', [rowid], function (tx, results) {\n\n                    if (results.rows) {\n\n                        var _data = results.rows[0];\n\n                        if (_data.encrypted === \"1\") {\n\n                            tx.executeSql(\"SELECT key FROM encryption\", [], function (tx, results) {\n                                if (results.rows[0]) {\n\n                                    var key = results.rows[0].key;\n\n                                    var description = _data.description;\n                                    var description_decrypt = CryptoJS.AES.decrypt(description, key);\n                                    description_decrypt = description_decrypt.toString(CryptoJS.enc.Utf8);\n\n                                    description = description_decrypt.replace(/<br\\s*\\/?>/gi, \"\");\n                                    $('textarea[name=\"edit_description\"]').val(description);\n\n                                    $('input[name=\"encrypt_state\"]').val(\"1\");\n                                }\n                            });\n                        } else {\n\n                            var description = _data.description;\n                            description = description.replace(/<br\\s*\\/?>/gi, \"\");\n                            $('textarea[name=\"edit_description\"]').val(description);\n                            $('input[name=\"encrypt_state\"]').val(\"0\");\n                        }\n\n                        $('input[name=\"row_id\"]').val(rowid);\n                        $('input[name=\"edit_title\"]').val(_data.title);\n                        $('#add_img_loaded').html('<img src=\"/upload/' + _data.img + '\"/>');\n                    }\n                });\n            });\n        });\n    });\n\n    $d.off('submit', '#form_edit_data').on('submit', '#form_edit_data', function (e) {\n\n        e.preventDefault();\n\n        var rowid = $('input[name=\"row_id\"]').val();\n        var title = $('input[name=\"edit_title\"]').val();\n        var description = nl2br($('textarea[name=\"edit_description\"]').val());\n        var encrypt_sate = $('input[name=\"encrypt_state\"]').val();\n\n        if (title.length >= 1 && description.length >= 1) {\n\n            var _datetime = moment().format(\"YYYY-MM-DD HH:mm:ss\");\n            var img = $('input[name=\"edit_img\"]').val();\n\n            var $this = $('input[name=\"edit_img\"]')[0];\n            var imgsend = upload_img(img, $this);\n\n            db.transaction(function (tx) {\n\n                if (encrypt_sate === \"1\") {\n\n                    tx.executeSql(\"SELECT key FROM encryption\", [], function (tx, results) {\n\n                        if (results.rows[0]) {\n\n                            var key = results.rows[0].key;\n\n                            var description_encrypt = CryptoJS.AES.encrypt(description, key);\n                            description_encrypt = description_encrypt.toString();\n\n                            if (imgsend != \"default.png\") {\n\n                                tx.executeSql('UPDATE datas SET title=?, description=?, img=?, dateupdate=? WHERE rowid=?', [title, description_encrypt, imgsend, _datetime, rowid]);\n                            } else {\n                                tx.executeSql('UPDATE datas SET title=?, description=?, dateupdate=? WHERE rowid=?', [title, description_encrypt, _datetime, rowid]);\n                            }\n                        }\n                    });\n                } else {\n\n                    if (imgsend != \"default.png\") {\n\n                        tx.executeSql('UPDATE datas SET title=?, description=?, img=?, dateupdate=? WHERE rowid=?', [title, description, imgsend, _datetime, rowid]);\n                    } else {\n                        tx.executeSql('UPDATE datas SET title=?, description=?, dateupdate=? WHERE rowid=?', [title, description, _datetime, rowid]);\n                    }\n                }\n\n                $.post('/templates/view.html', function (data) {\n\n                    $('#template_load').html(data);\n\n                    load_data(order);\n                });\n            });\n        } else {\n\n            if (title.length <= 0) {\n\n                $('input[name=\"add_title\"]').val('this field is empty..');\n\n                setTimeout(function () {\n                    $('input[name=\"add_title\"]').val(title);\n                }, 2000);\n            }\n\n            if (description.length <= 0) {\n\n                $('textarea[name=\"add_description\"]').val('this field is empty..');\n\n                setTimeout(function () {\n                    $('textarea[name=\"add_description\"]').val(description);\n                }, 2000);\n            }\n        }\n    });\n\n    /***********************************************************************\n        VIEW DATA\n    ************************************************************************/\n    $d.off('click', '.view_item_delete').on('click', '.view_item_delete', function () {\n\n        var rowid = $(this).attr('data-id');\n\n        $('.item-delete-confirmation[data-id=\"' + rowid + '\"]').fadeIn(300);\n    });\n\n    $d.off('click', '.item_confirm_delete').on('click', '.item_confirm_delete', function () {\n\n        var rowid = $(this).parent('.item-delete-confirmation').attr('data-id');\n\n        db.transaction(function (tx) {\n            tx.executeSql('DELETE FROM datas WHERE rowid=?', [rowid]);\n\n            $('#view_data').html('');\n\n            load_data(order);\n        });\n    });\n\n    $d.off('click', '.item_cancel_delete').on('click', '.item_cancel_delete', function () {\n\n        var rowid = $(this).parent('.item-delete-confirmation').attr('data-id');\n\n        $('.item-delete-confirmation[data-id=\"' + rowid + '\"]').fadeOut(300);\n    });\n\n    $d.off('click', '.category-hide').on('click', '.category-hide', function () {\n\n        var rowid = $(this).attr('data-id');\n\n        if ($('.category-view-item[data-id=\"' + rowid + '\"]').is(':visible')) {\n            $(this).children('i').css('transform', 'rotate(0deg)');\n        } else {\n            $(this).children('i').css('transform', 'rotate(45deg)');\n        }\n\n        $('.category-view-item[data-id=\"' + rowid + '\"]').slideToggle(300);\n    });\n\n    $d.off('click', '.hide-item').on('click', '.hide-item', function () {\n\n        var rowid = $(this).attr('data-id');\n\n        if ($('.description-item[data-id=\"' + rowid + '\"]').is(':visible')) {\n            $(this).children('i').css('transform', 'rotate(0deg)');\n        } else {\n            $(this).children('i').css('transform', 'rotate(45deg)');\n        }\n\n        $('.description-item[data-id=\"' + rowid + '\"]').slideToggle(300);\n    });\n\n    $d.off('click', '.view_show_all_description').on('click', '.view_show_all_description', function () {\n\n        if ($('.view-item').is(':visible')) {\n            $(this).hide();\n            $('.view_hide_all_description').show();\n            $('.description-item').slideDown(300);\n        }\n    });\n\n    $d.off('click', '.view_hide_all_description').on('click', '.view_hide_all_description', function () {\n\n        if ($('.view-item').is(':visible')) {\n            $(this).hide();\n            $('.view_show_all_description').show();\n            $('.description-item').slideUp(300);\n        }\n    });\n\n    $d.off('click', '.view_hide_all_item').on('click', '.view_hide_all_item', function () {\n\n        if ($('.view-item').is(':visible')) {\n            $(this).hide();\n            $('.view_show_all_item').show();\n            $('.view-item').css('opacity', '0');\n            $('.secret-img').fadeIn(300);\n        }\n    });\n\n    $d.off('click', '.view_show_all_item').on('click', '.view_show_all_item', function () {\n\n        if ($('.view-item').is(':visible')) {\n            $(this).hide();\n            $('.view_hide_all_item').show();\n            $('.view-item').css('opacity', '1');\n            $('.secret-img').fadeOut(300);\n        }\n    });\n\n    $d.off('mouseenter', '.grip').on('mouseenter', '.grip', function () {\n        var dataid = $(this).attr('data-id');\n        $('.grip-notice[data-id=\"' + dataid + '\"]').fadeIn(300);\n    });\n    $d.off('mouseleave', '.grip, .view-item').on('mouseleave', '.grip, .view-item', function () {\n        var dataid = $(this).attr('data-id');\n        $('.grip-notice[data-id=\"' + dataid + '\"]').fadeOut(300);\n    });\n\n    /*\n    //Disabled\n    $d.off('click', '.view_sort_item_asc').on('click', '.view_sort_item_asc', function(){\n         if( $('.view-item').is(':visible') ){\n             order = \"DESC\";\n             $('.fa-sort-amount-asc').hide()\n            $('.fa-sort-amount-desc').show()\n             $('.view-item').remove()\n            $('#view_data').html('')\n             load_data(order);\n             //setTimeout(function(){ load_data(order); },1000)\n        }\n    })\n     $d.off('click', '.view_sort_item_desc').on('click', '.view_sort_item_desc', function(){\n         if( $('.view-item').is(':visible') ){\n             order = \"ASC\";\n             $('.fa-sort-amount-desc').hide()\n            $('.fa-sort-amount-asc').show()\n             $('.view-item').remove()\n            $('#view_data').html('')\n             load_data(order);\n             //setTimeout(function(){ load_data(order); },1000)\n        }\n    })\n    */\n};\nexports.default = app;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9hc3NldHMvanMvYXBwLmpzPzhiOTUiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IGFwcCA9IGZ1bmN0aW9uKCl7XG5cbiAgICBsZXQgJGQgPSAkKGRvY3VtZW50KSwgbG9naW4sIGVtYWlsLCByZW1lbWJlciA9IFwiMFwiLCBkYXRldGltZSA9IG1vbWVudCgpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW06c3NcIiksIG15SVA7XG5cbiAgICBjb25zb2xlLmxvZyggZGIgKVxuXG4gICAgaWYoIHdpbmRvdy5vcGVuRGF0YWJhc2UgKXtcbiAgICAgICAgdmFyIGRiID0gb3BlbkRhdGFiYXNlKCdteV9hY2Vzc19kYicsICcxLjAnLCAnTXkgYWNjZXNzIGRiJywgNSAqIDEwMjQgKiAxMDI0KTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgaW1wb3J0KCcuL2ZpcnN0X2xvZ2luLmpzJykudGhlbihmdW5jdGlvbihmaXJzdF9sb2dpbikgeyBmaXJzdF9sb2dpbi5kZWZhdWx0KCk7IH0pO1xuICAgIH1cblxuICAgIHZhciBvcmRlciA9IFwiQVNDXCI7XG5cblxuXG4gICAgJCgnLmljb24tbG9naW4nKS5oaWRlKClcbiAgICAkKCcubmF2LWJ0bicpLmZhZGVJbig1MDApXG4gICAgJCgnLm5hdi1kaXNjb25uZWN0JykuZmFkZUluKDUwMClcblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIEZVTkNUSU9OXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4gICAgbGV0IGdldF9sb2NhbF9uZXR3b3JrX2lwID0gKCk9PntcblxuICAgICAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gPSB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gfHwgd2luZG93Lm1velJUQ1BlZXJDb25uZWN0aW9uIHx8IHdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbjtcblxuICAgICAgICB2YXIgcGMgPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oe2ljZVNlcnZlcnM6W119KSwgbm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICAgICAgICBwYy5jcmVhdGVEYXRhQ2hhbm5lbChcIlwiKTtcblxuICAgICAgICBwYy5jcmVhdGVPZmZlcihwYy5zZXRMb2NhbERlc2NyaXB0aW9uLmJpbmQocGMpLCBub29wKTtcblxuICAgICAgICBwYy5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGljZSl7XG5cbiAgICAgICAgICAgIGlmKCFpY2UgfHwgIWljZS5jYW5kaWRhdGUgfHwgIWljZS5jYW5kaWRhdGUuY2FuZGlkYXRlKSAgcmV0dXJuO1xuXG4gICAgICAgICAgICBteUlQID0gLyhbMC05XXsxLDN9KFxcLlswLTldezEsM30pezN9fFthLWYwLTldezEsNH0oOlthLWYwLTldezEsNH0pezd9KS8uZXhlYyhpY2UuY2FuZGlkYXRlLmNhbmRpZGF0ZSlbMV07XG5cbiAgICAgICAgICAgIHBjLm9uaWNlY2FuZGlkYXRlID0gbm9vcDtcblxuICAgICAgICAgICAgcmV0dXJuIG15SVA7XG5cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRfbG9jYWxfbmV0d29ya19pcCgpO1xuXG5cbiAgICBsZXQgbmwyYnIgPSAoIHN0ciwgaXNfeGh0bWwgKT0+IHtcbiAgICAgICAgbGV0IGJyZWFrVGFnID0gKGlzX3hodG1sIHx8IHR5cGVvZiBpc194aHRtbCA9PT0gJ3VuZGVmaW5lZCcpID8gJzxiciAvPicgOiAnPGJyPic7XG4gICAgICAgIHJldHVybiAoc3RyICsgJycpLnJlcGxhY2UoLyhbXj5cXHJcXG5dPykoXFxyXFxufFxcblxccnxcXHJ8XFxuKS9nLCAnJDEnICsgYnJlYWtUYWcgKyAnJDInKTtcbiAgICB9XG5cbiAgICBsZXQgaW1hZ2VJc0xvYWRlZCA9ICggZSApPT4ge1xuICAgICAgICAkKCcjYWRkX2ltZ19sb2FkZWQnKS5odG1sKCc8aW1nIHNyYz1cIicrZS50YXJnZXQucmVzdWx0KydcIi8+Jyk7XG4gICAgfTtcblxuICAgIGxldCByZXNpemVfaW1nID0gKCBmaWxlICk9PntcbiAgICB9XG5cbiAgICBsZXQgY29weUZpbGUgPSAoIGZzLCBwYXRoLCBmaWxlc3JjLCBkaXJ1cGxvYWQgKT0+e1xuXG4gICAgICAgIGxldCBmICAgICAgID0gcGF0aC5iYXNlbmFtZShmaWxlc3JjKTtcbiAgICAgICAgbGV0IHNvdXJjZSAgPSBmcy5jcmVhdGVSZWFkU3RyZWFtKGZpbGVzcmMpO1xuICAgICAgICBsZXQgZGVzdCAgICA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKHBhdGgucmVzb2x2ZShkaXJ1cGxvYWQsIGYpKTtcblxuICAgICAgICBzb3VyY2UucGlwZShkZXN0KTtcblxuICAgICAgICBzb3VyY2Uub24oJ2VuZCcsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIH0pO1xuICAgICAgICBzb3VyY2Uub24oJ2Vycm9yJywgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgdXBsb2FkX2ltZyA9ICggaW1nLCAkdGhpcyApPT57XG5cbiAgICAgICAgbGV0IGltZ3NlbmQgPSBcImRlZmF1bHQucG5nXCI7XG5cbiAgICAgICAgaWYoIGltZy5sZW5ndGggPj0gMSApe1xuXG4gICAgICAgICAgICBpZiAoJHRoaXMuZmlsZXMgJiYgJHRoaXMuZmlsZXNbMF0pIHtcblxuICAgICAgICAgICAgICAgIGxldCAkdGhpc2ZpbGUgICAgICAgPSAkdGhpcy5maWxlc1swXVxuICAgICAgICAgICAgICAgIGxldCBvcmlnaW5hbGZpbGUgICAgPSAkdGhpc2ZpbGUucGF0aFxuXG4gICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lICAgICAgICA9ICR0aGlzZmlsZS5uYW1lXG4gICAgICAgICAgICAgICAgbGV0IGZpbGV0eXBlICAgICAgICA9ICR0aGlzZmlsZS50eXBlXG4gICAgICAgICAgICAgICAgbGV0IGZpbGVzaXplICAgICAgICA9ICR0aGlzZmlsZS5zaXplXG5cbiAgICAgICAgICAgICAgICBpZiggZmlsZXR5cGUgPT0gXCJpbWFnZS9wbmdcIiB8fCBmaWxldHlwZSA9PSBcImltYWdlL2pwZWdcIiApe1xuXG4gICAgICAgICAgICAgICAgICAgIGNvcHlGaWxlKGZzLCBwYXRoLCBvcmlnaW5hbGZpbGUsICcuL3VwbG9hZC8nKTtcblxuICAgICAgICAgICAgICAgICAgICBpbWdzZW5kID0gZmlsZW5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW1nc2VuZDtcbiAgICB9XG5cblxuICAgIGxldCBpdGVtX3NvcnRhYmxlID0gKCk9PntcblxuICAgICAgICAkKCBcIiN2aWV3X2RhdGFcIiApLnNvcnRhYmxlKHtcbiAgICAgICAgICAgIGl0ZW1zOiBcIi52aWV3LWl0ZW1cIixcbiAgICAgICAgICAgIGhhbmRsZTogXCIuZ3JpcFwiLFxuICAgICAgICAgICAgY29ubmVjdFdpdGg6IFwiLmNhdGVnb3J5LXZpZXctaXRlbVwiLFxuICAgICAgICAgICAgb3BhY2l0eTogMC41LFxuICAgICAgICAgICAgYXhpczogXCJ5XCIsXG4gICAgICAgICAgICByZXZlcnQ6IHRydWUsXG4gICAgICAgICAgICBzdG9wOiBmdW5jdGlvbihldmVudCwgdWkpe1xuXG4gICAgICAgICAgICAgICAgaWYoIHdpbmRvdy5vcGVuRGF0YWJhc2UgKXtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGIgPSBvcGVuRGF0YWJhc2UoJ215X2FjZXNzX2RiJywgJzEuMCcsICdNeSBhY2Nlc3MgZGInLCA1ICogMTAyNCAqIDEwMjQpO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy52aWV3LWl0ZW0nKS5lYWNoKGZ1bmN0aW9uKGksIHYpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvc2l0aW9uID0gaSsxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHYpLmF0dHIoJ2RhdGEtcG9zaXRpb24nLCBpKVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvd2lkID0gJCh2KS5hdHRyKCdkYXRhLWlkJylcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh2KS5maW5kKCcuaXRlbS1wb3NpdGlvbicpLnRleHQocG9zaXRpb24pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnVVBEQVRFIGRhdGFzIFNFVCBwb3NpdGlvbj0/IFdIRVJFIHJvd2lkPT8nLCBbaSwgcm93aWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgbGV0IGl0ZW1fZHJvcHBhYmxlID0gKCk9PntcblxuICAgICAgICAkKCBcIi5jYXRlZ29yeS12aWV3LWl0ZW1cIiApLmRyb3BwYWJsZSh7XG4gICAgICAgICAgICBhY2NlcHQ6IFwiLnZpZXctaXRlbVwiLFxuICAgICAgICAgICAgb3ZlcjogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcbiAgICAgICAgICAgICAgICBkcm9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkuYWRkQ2xhc3MoJ2Ryb3BwZWQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcm9wOiBmdW5jdGlvbiggZXZlbnQsIHVpICl7XG5cbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0SUQgICAgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignZGF0YS1pZCcpXG4gICAgICAgICAgICAgICAgbGV0IGNsb25lICAgICAgID0gJCh1aS5kcmFnZ2FibGVbMF0pLmNsb25lKClcblxuICAgICAgICAgICAgICAgICQodWkuZHJhZ2dhYmxlWzBdKS5hZGRDbGFzcyhcIlRvUmVtb3ZlXCIpXG5cbiAgICAgICAgICAgICAgICBsZXQgaXRlbUlEID0gJCh1aS5kcmFnZ2FibGVbMF0pLmF0dHIoJ2RhdGEtaWQnKVxuXG4gICAgICAgICAgICAgICAgLy8kKCcuY2F0ZWdvcnktdmlldy1pdGVtW2RhdGEtaWQ9XCInK3RhcmdldElEKydcIl0nKS5wcmVwZW5kKCBjbG9uZSApO1xuICAgICAgICAgICAgICAgICQoY2xvbmUpLmluc2VydEJlZm9yZSgnLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyJylcblxuICAgICAgICAgICAgICAgICQoY2xvbmUpLnJlbW92ZUF0dHIoJ3N0eWxlJylcblxuICAgICAgICAgICAgICAgICQoJy5Ub1JlbW92ZScpLnJlbW92ZSgpXG5cbiAgICAgICAgICAgICAgICAkKCcuY2F0ZWdvcnktdmlldy1pdGVtJykucmVtb3ZlQ2xhc3MoJ2Ryb3BwZWQnKVxuXG4gICAgICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcblxuICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdVUERBVEUgZGF0YXMgU0VUIGNhdGVnb3J5PT8gV0hFUkUgcm93aWQ9PycsIFt0YXJnZXRJRCwgaXRlbUlEXSk7XG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG91dDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHtcblxuICAgICAgICAgICAgICAgIGxldCBpdGVtSUQgPSAkKHVpLmRyYWdnYWJsZVswXSkuYXR0cignZGF0YS1pZCcpXG5cbiAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdVUERBVEUgZGF0YXMgU0VUIGNhdGVnb3J5PT8gV0hFUkUgcm93aWQ9PycsIFtcIjBcIiwgaXRlbUlEXSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBsZXQgc2VhcmNoX3NjcmlwdCA9ICgpPT57XG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICAgICAgRklMVEVSIFNFQVJDSCBLRVlXT1JEU1xuICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgalF1ZXJ5LmV4cHJbJzonXS5pY29udGFpbnMgPSBmdW5jdGlvbihhLCBpLCBtKSB7XG4gICAgICAgICAgICB2YXIgckV4cHM9W1xuICAgICAgICAgICAgICAgIHtyZTogL1tcXHhDMC1cXHhDNl0vZywgY2g6IFwiQVwifSxcbiAgICAgICAgICAgICAgICB7cmU6IC9bXFx4RTAtXFx4RTZdL2csIGNoOiBcImFcIn0sXG4gICAgICAgICAgICAgICAge3JlOiAvW1xceEM4LVxceENCXS9nLCBjaDogXCJFXCJ9LFxuICAgICAgICAgICAgICAgIHtyZTogL1tcXHhFOC1cXHhFQl0vZywgY2g6IFwiZVwifSxcbiAgICAgICAgICAgICAgICB7cmU6IC9bXFx4Q0MtXFx4Q0ZdL2csIGNoOiBcIklcIn0sXG4gICAgICAgICAgICAgICAge3JlOiAvW1xceEVDLVxceEVGXS9nLCBjaDogXCJpXCJ9LFxuICAgICAgICAgICAgICAgIHtyZTogL1tcXHhEMi1cXHhENl0vZywgY2g6IFwiT1wifSxcbiAgICAgICAgICAgICAgICB7cmU6IC9bXFx4RjItXFx4RjZdL2csIGNoOiBcIm9cIn0sXG4gICAgICAgICAgICAgICAge3JlOiAvW1xceEQ5LVxceERDXS9nLCBjaDogXCJVXCJ9LFxuICAgICAgICAgICAgICAgIHtyZTogL1tcXHhGOS1cXHhGQ10vZywgY2g6IFwidVwifSxcbiAgICAgICAgICAgICAgICB7cmU6IC9bXFx4QzctXFx4RTddL2csIGNoOiBcImNcIn0sXG4gICAgICAgICAgICAgICAge3JlOiAvW1xceEQxXS9nLCBjaDogXCJOXCJ9LFxuICAgICAgICAgICAgICAgIHtyZTogL1tcXHhGMV0vZywgY2g6IFwiblwifVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKGEpLnRleHQoKTtcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSBtWzNdO1xuXG4gICAgICAgICAgICAkLmVhY2gockV4cHMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnJlcGxhY2UodGhpcy5yZSwgdGhpcy5jaCk7XG4gICAgICAgICAgICAgICAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UodGhpcy5yZSwgdGhpcy5jaCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQudG9VcHBlckNhc2UoKS5pbmRleE9mKHNlYXJjaC50b1VwcGVyQ2FzZSgpKSA+PSAwO1xuICAgICAgICB9O1xuICAgICAgICAvKiAuLlNFQVJDSC4uICovXG4gICAgICAgICRkLm9mZigna2V5dXAnLCAnI2l0ZW1fZmlsdGVyX2tleXdvcmRzJykub24oJ2tleXVwJywgJyNpdGVtX2ZpbHRlcl9rZXl3b3JkcycsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIHZhciBzZWFyY2h2YWx1ZSA9ICQodGhpcykudmFsKClcblxuICAgICAgICAgICAgaWYoIHNlYXJjaHZhbHVlLmxlbmd0aCA+PSAyICl7XG4gICAgICAgICAgICAgICAgJCgnLmtleXdvcmRfZGF0YScpLmhpZGUoKVxuICAgICAgICAgICAgICAgIC8vJCgnLm1vZGFsLXRpdGxlLWNvbnRlbnQnKS5oaWRlKClcbiAgICAgICAgICAgICAgICB2YXIga2V5d29yZCA9ICQoJy5rZXl3b3JkX2RhdGE6aWNvbnRhaW5zKFwiJytzZWFyY2h2YWx1ZSsnXCIpJykuc2hvdygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICQoJy5rZXl3b3JkX2RhdGEnKS5zaG93KClcbiAgICAgICAgICAgICAgICAvLyQoJy5tb2RhbC10aXRsZS1jb250ZW50Jykuc2hvdygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgICAgIEVORCAtLSBGSUxURVIgU0VBUkNIIEtFWVdPUkRTXG4gICAgICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgIH1cblxuICAgIGxldCBsb2FkX2NhdGVnb3J5ID0gKCBvcmRlciA9IFwiQVNDXCIgKT0+e1xuXG4gICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG5cbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ1NFTEVDVCByb3dpZCwgKiBGUk9NIGNhdGVnb3J5IE9SREVSIEJZIHBvc2l0aW9uICcrIG9yZGVyLCBbXSwgZnVuY3Rpb24gKHR4LCByZXN1bHRzKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggcmVzdWx0cy5yb3dzICl7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgICAgICAgID0gcmVzdWx0cy5yb3dzO1xuXG4gICAgICAgICAgICAgICAgICAgICQoZGF0YSkuZWFjaChmdW5jdGlvbihpLCB2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYXRlZ29yeSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgZGF0YS1pZD1cIicrdi5yb3dpZCsnXCIgZGF0YS1wb3NpdGlvbj1cIicrdi5wb3NpdGlvbisnXCIgY2xhc3M9XCJ2aWV3LWNhdGVnb3J5XCI+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aXRsZS1ibG9ja1wiPicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBkYXRhLWlkPVwiJyt2LnJvd2lkKydcIiBjbGFzcz1cImNhdGVnb3J5LWhpZGVcIj48aSBjbGFzcz1cImZhIGZhLWFuZ2xlLWRvd25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiaW1nLWNhdGVnb3J5XCI+PGltZyBzcmM9XCIvdXBsb2FkLycrdi5pbWcrJ1wiPjwvZGl2PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRpdGxlLWNhdGVnb3J5XCI+Jyt2LnRpdGxlKyc8L2Rpdj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgZGF0YS1pZD1cIicrdi5yb3dpZCsnXCIgY2xhc3M9XCJjYXRlZ29yeS12aWV3LWl0ZW1cIj48L2Rpdj4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN2aWV3X2RhdGEnKS5wcmVwZW5kKGNhdGVnb3J5KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2F0ZWdvcnktaGlkZVtkYXRhLWlkPVwiJyt2LnJvd2lkKydcIl0nKS5jaGlsZHJlbignaScpLmNzcygndHJhbnNmb3JtJywncm90YXRlKDQ1ZGVnKScpXG5cbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9KVxuICAgIH1cblxuXG4gICAgbGV0IGxvYWRfZGF0YSA9ICggb3JkZXIgPSBcIkFTQ1wiICk9PntcblxuICAgICAgICBsb2FkX2NhdGVnb3J5KClcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIGlmKCB3aW5kb3cub3BlbkRhdGFiYXNlICl7XG5cblxuICAgICAgICAgICAgICAgIHZhciBkYiA9IG9wZW5EYXRhYmFzZSgnbXlfYWNlc3NfZGInLCAnMS4wJywgJ015IGFjY2VzcyBkYicsIDUgKiAxMDI0ICogMTAyNCk7XG5cbiAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ1NFTEVDVCByb3dpZCwgKiBGUk9NIGRhdGFzIE9SREVSIEJZIHBvc2l0aW9uICcrIG9yZGVyLCBbXSwgZnVuY3Rpb24gKHR4LCByZXN1bHRzKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCByZXN1bHRzLnJvd3MgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhICAgICAgICA9IHJlc3VsdHMucm93cztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZGF0YSkuZWFjaChmdW5jdGlvbihpLCB2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gdi5kZXNjcmlwdGlvblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB2LmVuY3J5cHRlZCA9PT0gXCIxXCIgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIlNFTEVDVCBrZXkgRlJPTSBlbmNyeXB0aW9uXCIsIFtdLCBmdW5jdGlvbih0eCxyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHJlc3VsdHMucm93c1swXSApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBrZXkgPSByZXN1bHRzLnJvd3NbMF0ua2V5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gQ3J5cHRvSlMuQUVTLmRlY3J5cHQodi5kZXNjcmlwdGlvbiwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgZGF0YS1pZD1cIicrdi5yb3dpZCsnXCIgZGF0YS1wb3NpdGlvbj1cIicrdi5wb3NpdGlvbisnXCIgY2xhc3M9XCJ2aWV3LWl0ZW0ga2V5d29yZF9kYXRhXCI+JytcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibmF2LWl0ZW1cIj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBkYXRhLWlkPVwiJyt2LnJvd2lkKydcIiBjbGFzcz1cImhpZGUtaXRlbVwiPjxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtZG93blwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2Rpdj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRpdGxlLWl0ZW1cIj4nK3YudGl0bGUrJzwvZGl2PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGRhdGEtaWQ9XCInK3Yucm93aWQrJ1wiIGNsYXNzPVwiZ3JpcC1ub3RpY2VcIj5EcmFnIG1lLi48L2Rpdj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBkYXRhLWlkPVwiJyt2LnJvd2lkKydcIiBjbGFzcz1cImdyaXBcIj48aSBjbGFzcz1cImZhIGZhLXBhd1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2Rpdj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImJ0bi1uYXZcIj48aSBkYXRhLWlkPVwiJyt2LnJvd2lkKydcIiBjbGFzcz1cImZhIGZhLXRyYXNoIHZpZXdfaXRlbV9kZWxldGVcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJidG4tbmF2XCI+PGkgZGF0YS1pZD1cIicrdi5yb3dpZCsnXCIgY2xhc3M9XCJmYSBmYS1wZW5jaWwgdmlld19pdGVtX2VkaXRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JytcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGRhdGEtaWQ9XCInK3Yucm93aWQrJ1wiIGNsYXNzPVwiaXRlbS1kZWxldGUtY29uZmlybWF0aW9uXCI+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtX2NvbmZpcm1fZGVsZXRlXCI+REVMRVRFPC9kaXY+PGRpdiBjbGFzcz1cIml0ZW1fY2FuY2VsX2RlbGV0ZVwiPkNBTkNFTDwvZGl2PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicrXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBkYXRhLWlkPVwiJyt2LnJvd2lkKydcIiBjbGFzcz1cImRlc2NyaXB0aW9uLWl0ZW1cIj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImltZ1wiPjxpbWcgc3JjPVwiL3VwbG9hZC8nK3YuaW1nKydcIiBhbHQ9XCJcIiAvPjwvZGl2PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGV4dFwiPicrZGVzY3JpcHRpb24rJzwvZGl2PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlLWl0ZW1cIj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW0tZW5jcnlwdFwiPkVuY3J5cHRlZC4uPC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtLXBvc2l0aW9uXCI+Jytwb3NpdGlvbisnPC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlLXVwXCI+VXBkYXRlZCA6ICcrdi5kYXRldXBkYXRlKyc8L2Rpdj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nK1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggdi5jYXRlZ29yeSAhPSBcIjBcIil7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcuY2F0ZWdvcnktdmlldy1pdGVtW2RhdGEtaWQ9XCInK3YuY2F0ZWdvcnkrJ1wiXScpLmlzKCc6dmlzaWJsZScpICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2F0ZWdvcnktdmlldy1pdGVtW2RhdGEtaWQ9XCInK3YuY2F0ZWdvcnkrJ1wiXScpLmFwcGVuZChpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3ZpZXdfZGF0YScpLmFwcGVuZChpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN2aWV3X2RhdGEnKS5hcHBlbmQoaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBkYXRhLWlkPVwiJyt2LnJvd2lkKydcIiBkYXRhLXBvc2l0aW9uPVwiJyt2LnBvc2l0aW9uKydcIiBjbGFzcz1cInZpZXctaXRlbSBrZXl3b3JkX2RhdGFcIj4nK1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibmF2LWl0ZW1cIj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgZGF0YS1pZD1cIicrdi5yb3dpZCsnXCIgY2xhc3M9XCJoaWRlLWl0ZW1cIj48aSBjbGFzcz1cImZhIGZhLWFuZ2xlLWRvd25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGl0bGUtaXRlbVwiPicrdi50aXRsZSsnPC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGRhdGEtaWQ9XCInK3Yucm93aWQrJ1wiIGNsYXNzPVwiZ3JpcC1ub3RpY2VcIj5EcmFnIG1lLi48L2Rpdj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgZGF0YS1pZD1cIicrdi5yb3dpZCsnXCIgY2xhc3M9XCJncmlwXCI+PGkgY2xhc3M9XCJmYSBmYS1wYXdcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYnRuLW5hdlwiPjxpIGRhdGEtaWQ9XCInK3Yucm93aWQrJ1wiIGNsYXNzPVwiZmEgZmEtdHJhc2ggdmlld19pdGVtX2RlbGV0ZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT48L2Rpdj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJidG4tbmF2XCI+PGkgZGF0YS1pZD1cIicrdi5yb3dpZCsnXCIgY2xhc3M9XCJmYSBmYS1wZW5jaWwgdmlld19pdGVtX2VkaXRcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+PC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicrXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgZGF0YS1pZD1cIicrdi5yb3dpZCsnXCIgY2xhc3M9XCJpdGVtLWRlbGV0ZS1jb25maXJtYXRpb25cIj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtX2NvbmZpcm1fZGVsZXRlXCI+REVMRVRFPC9kaXY+PGRpdiBjbGFzcz1cIml0ZW1fY2FuY2VsX2RlbGV0ZVwiPkNBTkNFTDwvZGl2PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nK1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGRhdGEtaWQ9XCInK3Yucm93aWQrJ1wiIGNsYXNzPVwiZGVzY3JpcHRpb24taXRlbVwiPicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImltZ1wiPjxpbWcgc3JjPVwiL3VwbG9hZC8nK3YuaW1nKydcIiBhbHQ9XCJcIiAvPjwvZGl2PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRleHRcIj4nK2Rlc2NyaXB0aW9uKyc8L2Rpdj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJkYXRlLWl0ZW1cIj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtLWVuY3J5cHRcIj5Ob3QgZW5jcnlwdGVkLi48L2Rpdj4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtLXBvc2l0aW9uXCI+Jytwb3NpdGlvbisnPC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZGF0ZS11cFwiPlVwZGF0ZWQgOiAnK3YuZGF0ZXVwZGF0ZSsnPC9kaXY+JytcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicrXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHYuY2F0ZWdvcnkgIT0gXCIwXCIpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5jYXRlZ29yeS12aWV3LWl0ZW1bZGF0YS1pZD1cIicrdi5jYXRlZ29yeSsnXCJdJykuaXMoJzp2aXNpYmxlJykgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2F0ZWdvcnktdmlldy1pdGVtW2RhdGEtaWQ9XCInK3YuY2F0ZWdvcnkrJ1wiXScpLmFwcGVuZChpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyN2aWV3X2RhdGEnKS5hcHBlbmQoaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjdmlld19kYXRhJykuYXBwZW5kKGl0ZW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSBpKzE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnVVBEQVRFIGRhdGFzIFNFVCBwb3NpdGlvbj0/IFdIRVJFIHJvd2lkPT8nLCBbaSwgdi5yb3dpZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbV9zb3J0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoX3NjcmlwdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpeyBpdGVtX2Ryb3BwYWJsZSgpOyB9LDIwMDApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBpbXBvcnQoJy4vZmlyc3RfbG9naW4uanMnKS50aGVuKGZ1bmN0aW9uKGZpcnN0X2xvZ2luKSB7IGZpcnN0X2xvZ2luLmRlZmF1bHQoKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sNTAwKVxuICAgIH1cblxuXG4gICAgbGV0IGJhY2t1cF9kYXRhYmFzZSA9ICggdGFibGUgKT0+IHtcblxuICAgICAgICBsZXQgZGF0YSA9IG5ldyBPYmplY3QoKTtcblxuICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuXG4gICAgICAgICAgICB0eC5leGVjdXRlU3FsKFwiU0VMRUNUICogRlJPTSBcIit0YWJsZSwgW10sIGZ1bmN0aW9uKCB0eCxyZXN1bHRzICkge1xuXG4gICAgICAgICAgICAgICAgaWYoIHJlc3VsdHMgKXtcbiAgICAgICAgICAgICAgICAgICAgJChyZXN1bHRzLnJvd3MpLmVhY2goZnVuY3Rpb24oaSx2KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbaV0gPSB2XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sbnVsbCk7XG4gICAgfVxuXG5cbiAgICBsZXQgYmFja3VwID0gKHRhYmxlKT0+IHtcblxuICAgICAgICB2YXIgZGVmID0gbmV3ICQuRGVmZXJyZWQoKTtcblxuICAgICAgICBkYi5yZWFkVHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcblxuICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIlNFTEVDVCAqIEZST00gXCIrdGFibGUsIFtdLCBmdW5jdGlvbih0eCxyZXN1bHRzKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3VsdHMucm93c1xuXG4gICAgICAgICAgICAgICAgZGVmLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgbnVsbCk7XG5cbiAgICAgICAgcmV0dXJuIGRlZjtcbiAgICB9XG5cblxuICAgIGxldCBnZXRfc3luY2hyb25pc2VfdGFibGUgPSAoKT0+e1xuXG4gICAgICAgIGxldCB0aGVrZXkgPSBuZXcgJC5EZWZlcnJlZCgpO1xuXG4gICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0eCkge1xuXG4gICAgICAgICAgICB0eC5leGVjdXRlU3FsKFwiU0VMRUNUICogRlJPTSBzeW5jaHJvbml6ZVwiLCBbXSwgZnVuY3Rpb24oIHR4LHJlc3VsdHMgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggcmVzdWx0cyApe1xuICAgICAgICAgICAgICAgICAgICB0aGVrZXkucmVzb2x2ZShyZXN1bHRzLnJvd3NbMF0ua2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICB0aGVrZXkucmVzb2x2ZSgnbnVsbCcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9LCBmdW5jdGlvbiggZXJyICl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyggZXJyIClcbiAgICAgICAgICAgIHRoZWtleS5yZXNvbHZlKCdudWxsJylcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gdGhla2V5O1xuICAgIH1cblxuICAgIGxldCBnZW5lcmF0ZV9rZXkgPSAoKT0+IHtcbiAgICAgIHZhciB0ZXh0ID0gXCJcIjtcbiAgICAgIHZhciBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIjtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1MDsgaSsrKVxuICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcblxuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgbGV0IGNyZWF0ZV9zeW5jaHJvbmlzZV90YWJsZSA9ICgpPT57XG5cbiAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHR4KSB7XG5cbiAgICAgICAgICAgIGxldCBrZXkgPSBnZW5lcmF0ZV9rZXkoKVxuXG4gICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzeW5jaHJvbml6ZSAoa2V5LCBhY3RpdmUsIGRhdGVzdGFydCBEQVRFVElNRSknKTtcblxuICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnSU5TRVJUIElOVE8gc3luY2hyb25pemUgKGtleSwgYWN0aXZlLCBkYXRlc3RhcnQpIFZBTFVFUyAoXCInK2tleSsnXCIsIFwiMVwiLCBcIicrZGF0ZXRpbWUrJ1wiKScpO1xuXG4gICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBzeW5jaHJvbml6ZV9hdXRvcml6ZWQgKGtleSwgaXAsIG1hY2hpbmUsIGRhdGVhZGQgREFURVRJTUUpJyk7XG5cbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHN5bmNocm9uaXplX2xvZyAoaXAsIGtleSwgZGF0ZWxvZyBEQVRFVElNRSknKTtcblxuICAgICAgICB9LCBmdW5jdGlvbiggZXJyICl7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCBlcnIgKVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCBkZWxldGVfc3luY2hyb25pc2VfdGFibGUgPSAoKT0+e1xuXG4gICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0eCkge1xuXG4gICAgICAgICAgICAvLyBGT1IgREVWLi4uXG4gICAgICAgICAgICB0eC5leGVjdXRlU3FsKFwiRFJPUCBUQUJMRSBzeW5jaHJvbml6ZVwiLFtdLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHR4LHJlc3VsdHMpeyBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NmdWxseSBEcm9wcGVkIHN5bmNocm9uaXplXCIpIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24odHgsZXJyb3IpeyBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBkZWxldGUgc3luY2hyb25pemVcIikgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gRk9SIERFVi4uLlxuICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIkRST1AgVEFCTEUgc3luY2hyb25pemVfYXV0b3JpemVkXCIsW10sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24odHgscmVzdWx0cyl7IGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IERyb3BwZWQgc3luY2hyb25pemVfYXV0b3JpemVkXCIpIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24odHgsZXJyb3IpeyBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBkZWxldGUgc3luY2hyb25pemVfYXV0b3JpemVkXCIpIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIEZPUiBERVYuLi5cbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoXCJEUk9QIFRBQkxFIHN5bmNocm9uaXplX2xvZ1wiLFtdLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHR4LHJlc3VsdHMpeyBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NmdWxseSBEcm9wcGVkIHN5bmNocm9uaXplX2xvZ1wiKSB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHR4LGVycm9yKXsgY29uc29sZS5sb2coXCJDb3VsZCBub3QgZGVsZXRlIHN5bmNocm9uaXplX2xvZ1wiKSB9XG4gICAgICAgICAgICApO1xuXG5cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBsZXQgZ2V0X3NlcnZlcl9zeW5jX29uX3N0YXJ0ID0gKCk9PntcblxuICAgICAgICBsZXQga2V5ID0gbnVsbDtcblxuICAgICAgICAkLndoZW4oIGdldF9zeW5jaHJvbmlzZV90YWJsZSgpICkudGhlbihmdW5jdGlvbiggdGhpc2tleSApe1xuXG4gICAgICAgICAgICBpZiggdGhpc2tleSAhPSAnbnVsbCcgKXtcbiAgICAgICAgICAgICAgICBrZXkgPSB0aGlza2V5XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpeyBodHRwX3NlcnZlcl9zdGFydChteUlQLCBrZXkpIH0sMTUwMClcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0X3NlcnZlcl9zeW5jX29uX3N0YXJ0KClcblxuXG4gICAgbGV0IHN5bmNfZGF0YV9jaGVjayA9IChzdHIpPT57XG5cbiAgICAgICAgdmFyIGRlZiA9IG5ldyAkLkRlZmVycmVkKCk7XG5cbiAgICAgICAgZGIucmVhZFRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG5cbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoXCJTRUxFQ1QgKiBGUk9NIGRhdGFzIFdIRVJFIHRpdGxlPT9cIiwgW3N0cl0sIGZ1bmN0aW9uKHR4LHJlc3VsdHMpIHtcblxuICAgICAgICAgICAgICAgIGlmKCByZXN1bHRzICl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gcmVzdWx0cy5yb3dzXG4gICAgICAgICAgICAgICAgICAgICBkZWYucmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgZGVmID0gXCJub19kYXRhXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCBlcnIgKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCBlcnIgKVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZGVmO1xuICAgIH1cblxuICAgIGxldCBzeW5jX2RhdGFfaW5zZXJ0ID0gKCBkYXRhICk9PntcblxuICAgICAgICBsZXQgdGl0bGUgICAgICAgICAgID0gZGF0YS50aXRsZVxuICAgICAgICBsZXQgZGVzY3JpcHRpb24gICAgID0gZGF0YS5kZXNjcmlwdGlvblxuICAgICAgICBsZXQgaW1nICAgICAgICAgICAgID0gXCJkZWZhdWx0LnBuZ1wiXG4gICAgICAgIGxldCBwb3NpdGlvbiAgICAgICAgPSBcIjBcIlxuICAgICAgICBsZXQgZGF0ZWFkZCAgICAgICAgID0gZGF0YS5kYXRlYWRkXG4gICAgICAgIGxldCBkYXRldXBkYXRlICAgICAgPSBkYXRhLmRhdGV1cGRhdGVcbiAgICAgICAgbGV0IGVuY3J5cHRlZCAgICAgICA9IGRhdGEuZW5jcnlwdGVkXG5cbiAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoXCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBkYXRhcyAodGl0bGUsIGRlc2NyaXB0aW9uIExPTkdURVhULCBpbWcsIHBvc2l0aW9uLCBkYXRlYWRkIERBVEVUSU1FLCBkYXRldXBkYXRlIERBVEVUSU1FLCBlbmNyeXB0ZWQgVkFSQ0hBUiBOT1QgTlVMTCBERUZBVUxUICcwJylcIik7XG4gICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdJTlNFUlQgSU5UTyBkYXRhcyAodGl0bGUsIGRlc2NyaXB0aW9uLCBpbWcsIHBvc2l0aW9uLCBkYXRlYWRkLCBkYXRldXBkYXRlLCBlbmNyeXB0ZWQpIFZBTFVFUyAoXCInK3RpdGxlKydcIiwgXCInK2Rlc2NyaXB0aW9uKydcIiwgXCInK2ltZysnXCIsIFwiJytwb3NpdGlvbisnXCIsIFwiJytkYXRlYWRkKydcIiwgXCInK2RhdGV1cGRhdGUrJ1wiLCBcIicrZW5jcnlwdGVkKydcIiknKTtcbiAgICAgICAgfSlcblxuICAgICAgICAvKlxuICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnSU5TRVJUIElOVE8gZGF0YXMgKHRpdGxlLCBkZXNjcmlwdGlvbiwgaW1nLCBwb3NpdGlvbiwgZGF0ZWFkZCwgZGF0ZXVwZGF0ZSwgZW5jcnlwdGVkKSBWQUxVRVMgKFwiJyt0aXRsZSsnXCIsIFwiJytkZXNjcmlwdGlvbisnXCIsIFwiJytpbWcrJ1wiLCBcIicrcG9zaXRpb24rJ1wiLCBcIicrZGF0ZWFkZCsnXCIsIFwiJytkYXRldXBkYXRlKydcIiwgXCInK2VuY3J5cHRlZCsnXCIpJyk7XG4gICAgICAgIH0pXG4gICAgICAgICovXG4gICAgfVxuXG4gICAgbGV0IGdldF9lbmNyeXB0aW9uID0oKT0+e1xuXG4gICAgICAgIGxldCBkYXRhID0gbmV3ICQuRGVmZXJyZWQoKTtcblxuICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuXG4gICAgICAgICAgICB0eC5leGVjdXRlU3FsKFwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZW5jcnlwdGlvbiAoa2V5LCBzdGF0ZSBWQVJDSEFSIE5PVCBOVUxMIERFRkFVTFQgJzAnKVwiKTtcblxuICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIlNFTEVDVCByb3dpZCwgKiBGUk9NIGVuY3J5cHRpb25cIiwgW10sIGZ1bmN0aW9uKHR4LHJlc3VsdHMpIHtcblxuICAgICAgICAgICAgICAgIGlmKCByZXN1bHRzLnJvd3NbMF0pe1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnJlc29sdmUocmVzdWx0cy5yb3dzWzBdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnJlc29sdmUoJ251bGwnKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9LGZ1bmN0aW9uKCBlcnIgKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgICAgIGRhdGEucmVzb2x2ZSgnbnVsbCcpXG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgbGV0IGFkZF9rZXlfZW5jcnlwdGlvbiA9IChzdHIpPT57XG5cbiAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcblxuICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIlNFTEVDVCAqIEZST00gZW5jcnlwdGlvblwiLCBbXSwgZnVuY3Rpb24odHgscmVzdWx0cykge1xuXG4gICAgICAgICAgICAgICAgaWYoIHJlc3VsdHMucm93c1swXSApe1xuICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdVUERBVEUgZW5jcnlwdGlvbiBTRVQga2V5PT8gd2hlcmUgcm93aWQ9PycsIFtzdHIsIDFdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdJTlNFUlQgSU5UTyBlbmNyeXB0aW9uIChrZXkpIFZBTFVFUyAoXCInK3N0cisnXCIpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBsZXQgZW5jcnlwdGlvbl9zdGF0ZV92YWx1ZSA9ICh2YWx1ZSk9PntcblxuICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuXG4gICAgICAgICAgICBpZiggdmFsdWUgPT09IFwiMVwiKXtcbiAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdVUERBVEUgZW5jcnlwdGlvbiBTRVQgc3RhdGU9PyB3aGVyZSByb3dpZD0/JywgW1wiMVwiLCAxXSk7XG5cbiAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKFwiU0VMRUNUIGtleSBGUk9NIGVuY3J5cHRpb25cIiwgW10sIGZ1bmN0aW9uKHR4LHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHJlc3VsdHMucm93c1swXSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleSA9IHJlc3VsdHMucm93c1swXS5rZXk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNyeXB0X2RhdGEoa2V5KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIHZhbHVlID09PSBcIjBcIiApe1xuICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ1VQREFURSBlbmNyeXB0aW9uIFNFVCBzdGF0ZT0/IHdoZXJlIHJvd2lkPT8nLCBbXCIwXCIsIDFdKTtcblxuICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoXCJTRUxFQ1Qga2V5IEZST00gZW5jcnlwdGlvblwiLCBbXSwgZnVuY3Rpb24odHgscmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICBpZiggcmVzdWx0cy5yb3dzWzBdICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gcmVzdWx0cy5yb3dzWzBdLmtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY3J5cHRfZGF0YShrZXkpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGxldCBjcnlwdF9kYXRhID0gKGtleSk9PntcblxuICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuXG4gICAgICAgICAgICB0eC5leGVjdXRlU3FsKFwiU0VMRUNUIHJvd2lkLCAqIEZST00gZGF0YXNcIiwgW10sIGZ1bmN0aW9uKHR4LHJlc3VsdHMpIHtcblxuICAgICAgICAgICAgICAgIGlmKCByZXN1bHRzICl7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdHMucm93cywgZnVuY3Rpb24oayx2KXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uX2VuY3J5cHQgPSBDcnlwdG9KUy5BRVMuZW5jcnlwdCh2LmRlc2NyaXB0aW9uLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uX2VuY3J5cHQgPSBkZXNjcmlwdGlvbl9lbmNyeXB0LnRvU3RyaW5nKClcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gdi5yb3dpZFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggdi5lbmNyeXB0ZWQgPT09IFwiMFwiKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdVUERBVEUgZGF0YXMgU0VUIGRlc2NyaXB0aW9uPT8gd2hlcmUgcm93aWQ9PycsIFtkZXNjcmlwdGlvbl9lbmNyeXB0LCBpZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ1VQREFURSBkYXRhcyBTRVQgZW5jcnlwdGVkPT8gd2hlcmUgcm93aWQ9PycsIFtcIjFcIiwgaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGxldCBkZWNyeXB0X2RhdGEgPSAoa2V5KT0+e1xuXG4gICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG5cbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoXCJTRUxFQ1Qgcm93aWQsICogRlJPTSBkYXRhc1wiLCBbXSwgZnVuY3Rpb24odHgscmVzdWx0cykge1xuXG4gICAgICAgICAgICAgICAgaWYoIHJlc3VsdHMgKXtcblxuICAgICAgICAgICAgICAgICAgICAkLmVhY2gocmVzdWx0cy5yb3dzLCBmdW5jdGlvbihrLHYpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVzY3JpcHRpb25fZGVjcnlwdCA9IENyeXB0b0pTLkFFUy5kZWNyeXB0KHYuZGVzY3JpcHRpb24sIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25fZGVjcnlwdCA9IGRlc2NyaXB0aW9uX2RlY3J5cHQudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSB2LnJvd2lkXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCB2LmVuY3J5cHRlZCA9PT0gXCIxXCIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ1VQREFURSBkYXRhcyBTRVQgZGVzY3JpcHRpb249PyB3aGVyZSByb3dpZD0/JywgW2Rlc2NyaXB0aW9uX2RlY3J5cHQsIGlkXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnVVBEQVRFIGRhdGFzIFNFVCBlbmNyeXB0ZWQ9PyB3aGVyZSByb3dpZD0/JywgW1wiMFwiLCBpZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBsZXQgYmFja3VwX2Rvd25sb2FkID0gKCk9PntcblxuICAgICAgICAvL0dFVCBCQUNLVVAgREFUQSBCQVNFXG4gICAgICAgIGxldCBmaWxlID0gcGF0aC5iYXNlbmFtZSgnL2RhdGEnKStcIi9kYXRhcy5qc29uXCI7XG4gICAgICAgIGZzLmV4aXN0cyhmaWxlLCAoZXhpc3RzKSA9PiB7XG5cbiAgICAgICAgICAgIGlmKCBleGlzdHMgKXtcblxuICAgICAgICAgICAgICAgICQoJyNyZXN1bHRfZXhwb3J0X2RhdGFiYXNlX2ZpbGUnKS5zaG93KClcblxuICAgICAgICAgICAgICAgIGZzLnJlYWRGaWxlKGZpbGUsICd1dGY4JywgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvd25sb2FkID0gXCJ0ZXh0L2pzb247Y2hhcnNldD11dGYtOCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJzxhIGhyZWY9XCJkYXRhOicgKyBkb3dubG9hZCArICdcIiBkb3dubG9hZD1cImRhdGFzLmpzb25cIj5Eb3dubG9hZCBKU09OIGZpbGU8L2E+JykuYXBwZW5kVG8oJyNyZXN1bHRfZXhwb3J0X2RhdGFiYXNlX2ZpbGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgICoqRk9SIERFVioqXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgICAgIGxldCBhZGRfY29sdW1uID0gKCk9PntcblxuXG4gICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuXG4gICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIlNFTEVDVCBlbmNyeXB0ZWQgRlJPTSBkYXRhc1wiLCBbXSwgZnVuY3Rpb24oIHR4LHJlc3VsdHMgKSB7fSlcblxuICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggZXJyIClcbiAgICAgICAgICAgICAgICBpZiggZXJyLm1lc3NhZ2UgPT09IFwiY291bGQgbm90IHByZXBhcmUgc3RhdGVtZW50ICgxIG5vIHN1Y2ggY29sdW1uOiBlbmNyeXB0ZWQpXCIpe1xuICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIkFMVEVSIFRBQkxFIGRhdGFzIEFERCBlbmNyeXB0ZWQgVkFSQ0hBUiBOT1QgTlVMTCBERUZBVUxUICcwJyBcIilcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG5cbiAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG5cbiAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKFwiU0VMRUNUIGNhdGVnb3J5IEZST00gZGF0YXNcIiwgW10sIGZ1bmN0aW9uKCB0eCxyZXN1bHRzICkge30pXG5cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGVyciApXG4gICAgICAgICAgICAgICAgaWYoIGVyci5tZXNzYWdlID09PSBcImNvdWxkIG5vdCBwcmVwYXJlIHN0YXRlbWVudCAoMSBubyBzdWNoIGNvbHVtbjogY2F0ZWdvcnkpXCIpe1xuICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIkFMVEVSIFRBQkxFIGRhdGFzIEFERCBjYXRlZ29yeSBWQVJDSEFSIE5PVCBOVUxMIERFRkFVTFQgJzAnIFwiKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cblxuXG4gICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuXG4gICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIlNFTEVDVCBzdGF0ZSBGUk9NIGVuY3J5cHRpb25cIiwgW10sIGZ1bmN0aW9uKCB0eCxyZXN1bHRzICkge30pXG5cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coIGVyciApXG4gICAgICAgICAgICAgICAgaWYoIGVyci5tZXNzYWdlID09PSBcImNvdWxkIG5vdCBwcmVwYXJlIHN0YXRlbWVudCAoMSBubyBzdWNoIGNvbHVtbjogc3RhdGUpXCIpe1xuICAgICAgICAgICAgICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbih0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIkFMVEVSIFRBQkxFIGVuY3J5cHRpb24gQUREIHN0YXRlIFZBUkNIQVIgTk9UIE5VTEwgREVGQVVMVCAnMCcgXCIpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcblxuICAgICAgICB9XG4gICAgICAgIGFkZF9jb2x1bW4oKVxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICAgICBFTkQgKipGT1IgREVWKipcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIFNUQVJUXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgICQoJyNhcHBfbmF2Jykuc2hvdygpXG5cbiAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodHgpIHtcblxuICAgICAgICB0eC5leGVjdXRlU3FsKCdTRUxFQ1QgKiBGUk9NIHVzZXInLCBbXSwgZnVuY3Rpb24gKHR4LCByZXN1bHRzKSB7XG5cbiAgICAgICAgICAgIGlmKCByZXN1bHRzLnJvd3NbMF0gKXtcbiAgICAgICAgICAgICAgICBsZXQgdXNlciAgICAgICAgPSByZXN1bHRzLnJvd3NbMF07XG5cbiAgICAgICAgICAgICAgICBsb2dpbiAgICAgICA9IHVzZXIubG9naW47XG4gICAgICAgICAgICAgICAgZW1haWwgICAgICAgPSB1c2VyLmVtYWlsO1xuICAgICAgICAgICAgICAgIHJlbWVtYmVyICAgID0gdXNlci5yZW1lbWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyAqKiBPTiBTVEFSVCBMT0FEIFZJRVcuSFRNTCAqKlxuICAgICQucG9zdCgnL3RlbXBsYXRlcy92aWV3Lmh0bWwnLCBmdW5jdGlvbiggZGF0YSApe1xuXG4gICAgICAgICQoJyN0ZW1wbGF0ZV9sb2FkJykuaHRtbCggZGF0YSApO1xuXG4gICAgICAgIGxvYWRfZGF0YShvcmRlcik7XG4gICAgfSlcblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIE5BVklHQVRJT05cbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbiAgICAkZC5vZmYoJ2NsaWNrJywgJyNyZXR1cm5faG9tZScpLm9uKCdjbGljaycsICcjcmV0dXJuX2hvbWUnLCBmdW5jdGlvbigpe1xuICAgICAgICAkLnBvc3QoJy90ZW1wbGF0ZXMvdmlldy5odG1sJywgZnVuY3Rpb24oIGRhdGEgKXtcblxuICAgICAgICAgICAgJCgnI3RlbXBsYXRlX2xvYWQnKS5odG1sKCBkYXRhICk7XG5cbiAgICAgICAgICAgIGxvYWRfZGF0YShvcmRlcik7XG5cbiAgICAgICAgfSk7XG4gICAgfSlcblxuICAgICRkLm9mZignY2xpY2snLCAnI3Nob3dfcGFyYW1zJykub24oJ2NsaWNrJywgJyNzaG93X3BhcmFtcycsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJC5wb3N0KCcvdGVtcGxhdGVzL3BhcmFtcy5odG1sJywgZnVuY3Rpb24oIGRhdGEgKXtcblxuICAgICAgICAgICAgJCgnI3RlbXBsYXRlX2xvYWQnKS5odG1sKCBkYXRhICk7XG5cbiAgICAgICAgICAgIGxldCBrZXkgPSBudWxsO1xuXG4gICAgICAgICAgICAvL0dFVCBTWU5DSFJPTklaRSAmIEVOQ1JZUFRJT04uLlxuICAgICAgICAgICAgJC53aGVuKCBnZXRfc3luY2hyb25pc2VfdGFibGUoKSwgZ2V0X2VuY3J5cHRpb24oKSApLnRoZW4oZnVuY3Rpb24oIGRhdGEsIGVuY3J5cHRpb24gKXtcblxuICAgICAgICAgICAgICAgIC8vIFNZTkNIUk9OSVNFIERBVEFcbiAgICAgICAgICAgICAgICBpZiggZGF0YSAhPSAnbnVsbCcgKXtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gZGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAkKCcjb3Blbl9icm93c2VyX2xvY2FsaG9zdCcpLmZhZGVJbigzMDApXG5cbiAgICAgICAgICAgICAgICAgICAgJCgnI2xvYWRfbGlua19mb3Jfc3luYycpLmh0bWwoJ2h0dHA6Ly8nK215SVArJzozMDAwLycra2V5KVxuXG4gICAgICAgICAgICAgICAgICAgICQoJyNhX2xpbmtfc2hhcmVfc3luYycpLmF0dHIoJ2hyZWYnLCAnbWFpbHRvOj9zdWJqZWN0PVRoZSBsaW5rIGZvciBzaGFyZSBteSBhY2Nlc3MuIFJlbW92ZSB0aGlzIGVtYWlsIGFmdGVyIHN5bmMgYXBwLi4uJiZjYz0nK2VtYWlsKycmYm9keT1odHRwOi8vJytteUlQKyc6MzAwMC8nK2tleSlcblxuICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiaHR0cF9zZXJ2ZXJcIl0nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRU5DUllQVElPTiBEQVRBXG4gICAgICAgICAgICAgICAgaWYoIGVuY3J5cHRpb24gIT0gJ251bGwnIHx8IGVuY3J5cHRpb24gIT0gbnVsbCApe1xuXG4gICAgICAgICAgICAgICAgICAgICQoJyNwYXJhbXNfZW5jcnlwdGlvbicpLnZhbChlbmNyeXB0aW9uLmtleSlcbiAgICAgICAgICAgICAgICAgICAgJCgnI3BhcmFtc19lbmNyeXB0X2RhdGFfc3RhdGUnKS5zaG93KClcblxuICAgICAgICAgICAgICAgICAgICBpZiggZW5jcnlwdGlvbi5zdGF0ZSA9PT0gXCIxXCIgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0I2VuY3J5cHRfZGF0YScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3BhcmFtc19lbmNyeXB0aW9uJykucHJvcCgncmVhZG9ubHknLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3BhcmFtc19lbmNyeXB0aW9uJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dCNlbmNyeXB0X2RhdGEnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjcGFyYW1zX2VuY3J5cHRpb24nKS5wcm9wKCdyZWFkb25seScsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3BhcmFtc19lbmNyeXB0aW9uJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEdFVCBSRU1FTUJFUlxuICAgICAgICAgICAgaWYocmVtZW1iZXIgPT09IFwiMVwiICl7XG4gICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInBhcmFtc19yZW1lbWJlclwiXScpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInBhcmFtc19yZW1lbWJlclwiXScpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhY2t1cF9kb3dubG9hZCgpO1xuXG4gICAgICAgICAgICAkKCcjZ2V0X2FwaV9mb3Jfc3luY2hyb25pemVfcmVzdWx0X2h0bWwnKS5yZW1vdmUoKVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICRkLm9mZignY2xpY2snLCAnI2FkZF9kYXRhJykub24oJ2NsaWNrJywgJyNhZGRfZGF0YScsIGZ1bmN0aW9uKCl7XG4gICAgICAgICQucG9zdCgnL3RlbXBsYXRlcy9hZGQuaHRtbCcsIGZ1bmN0aW9uKCBkYXRhICl7XG4gICAgICAgICAgICAkKCcjdGVtcGxhdGVfbG9hZCcpLmh0bWwoIGRhdGEgKTtcbiAgICAgICAgfSk7XG4gICAgfSlcblxuICAgICRkLm9mZignY2xpY2snLCAnI2FkZF9jYXRlZ29yeScpLm9uKCdjbGljaycsICcjYWRkX2NhdGVnb3J5JywgZnVuY3Rpb24oKXtcbiAgICAgICAgJC5wb3N0KCcvdGVtcGxhdGVzL2FkZF9jYXRlZ29yeS5odG1sJywgZnVuY3Rpb24oIGRhdGEgKXtcbiAgICAgICAgICAgICQoJyN0ZW1wbGF0ZV9sb2FkJykuaHRtbCggZGF0YSApO1xuICAgICAgICB9KTtcbiAgICB9KVxuXG4gICAgJGQub2ZmKCdjbGljaycsICcjYXBwX3JldHVybicpLm9uKCdjbGljaycsICcjYXBwX3JldHVybicsIGZ1bmN0aW9uKCl7XG4gICAgICAgICQucG9zdCgnL3RlbXBsYXRlcy92aWV3Lmh0bWwnLCBmdW5jdGlvbiggZGF0YSApe1xuICAgICAgICAgICAgJCgnI3RlbXBsYXRlX2xvYWQnKS5odG1sKCBkYXRhICk7XG4gICAgICAgICAgICBhZGRfbmF2aWdhdGlvbigpO1xuICAgICAgICB9KTtcbiAgICB9KVxuXG4gICAgJGQub2ZmKCdjbGljaycsICcjYXBwX2Rpc2Nvbm5lY3QnKS5vbignY2xpY2snLCAnI2FwcF9kaXNjb25uZWN0JywgZnVuY3Rpb24oKXtcblxuICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodHgpIHtcblxuICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnU0VMRUNUICogRlJPTSB1c2VyJywgW10sIGZ1bmN0aW9uICh0eCwgcmVzdWx0cykge1xuXG4gICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnVVBEQVRFIHVzZXIgU0VUIHJlbWVtYmVyPT8gd2hlcmUgcm93aWQ9PycsIFtcIjBcIiwgMV0sIGZ1bmN0aW9uKHR4KXtcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0KCcuL2xvZ2luLmpzJykudGhlbihmdW5jdGlvbihsb2dpbikgeyBsb2dpbi5kZWZhdWx0KCk7IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcbiAgICB9KTtcblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIFBBUkFNU1xuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgICRkLm9mZignY2hhbmdlJywgJ2lucHV0W25hbWU9XCJodHRwX3NlcnZlclwiXScpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cImh0dHBfc2VydmVyXCJdJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBsZXQgdmFsID0gJCh0aGlzKS5wcm9wKCdjaGVja2VkJylcblxuICAgICAgICBsZXQga2V5ID0gbnVsbDtcblxuICAgICAgICBpZiggdmFsID09IHRydWUgKXtcblxuICAgICAgICAgICAgJC53aGVuKCBnZXRfc3luY2hyb25pc2VfdGFibGUoKSApLnRoZW4oZnVuY3Rpb24oIHRoaXNrZXkgKXtcblxuICAgICAgICAgICAgICAgIGlmKCB0aGlza2V5ICE9ICdudWxsJyApe1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSB0aGlza2V5XG4gICAgICAgICAgICAgICAgICAgICQoJyNvcGVuX2Jyb3dzZXJfbG9jYWxob3N0JykuZmFkZUluKDMwMClcbiAgICAgICAgICAgICAgICAgICAgJCgnI2xvYWRfbGlua19mb3Jfc3luYycpLmh0bWwoJ2h0dHA6Ly8nK215SVArJzozMDAwLycra2V5KVxuICAgICAgICAgICAgICAgICAgICAkKCcjYV9saW5rX3NoYXJlX3N5bmMnKS5hdHRyKCdocmVmJywgJ21haWx0bzo/c3ViamVjdD1UaGUgbGluayBmb3Igc2hhcmUgbXkgYWNjZXNzIGFwcCYmY2M9JytlbWFpbCsnJmJvZHk9aHR0cDovLycrbXlJUCsnOjMwMDAvJytrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlX3N5bmNocm9uaXNlX3RhYmxlKClcblxuICAgICAgICAgICAgICAgICAgICAkLndoZW4oIGdldF9zeW5jaHJvbmlzZV90YWJsZSgpICkudGhlbihmdW5jdGlvbiggbmV3a2V5ICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSBuZXdrZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNvcGVuX2Jyb3dzZXJfbG9jYWxob3N0JykuZmFkZUluKDMwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNsb2FkX2xpbmtfZm9yX3N5bmMnKS5odG1sKCdodHRwOi8vJytteUlQKyc6MzAwMC8nK2tleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNhX2xpbmtfc2hhcmVfc3luYycpLmF0dHIoJ2hyZWYnLCAnbWFpbHRvOj9zdWJqZWN0PVRoZSBsaW5rIGZvciBzaGFyZSBteSBhY2Nlc3MgYXBwJiZjYz0nK2VtYWlsKycmYm9keT1odHRwOi8vJytteUlQKyc6MzAwMC8nK2tleSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgd2luX3JlbG9hZCgpXG4gICAgICAgICAgICB9LDE1MDApO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgJCgnI29wZW5fYnJvd3Nlcl9sb2NhbGhvc3QnKS5mYWRlT3V0KDMwMClcbiAgICAgICAgICAgICQoJyNzeW5jX2tleV9zaG93JykucmVtb3ZlKClcblxuICAgICAgICAgICAgZGVsZXRlX3N5bmNocm9uaXNlX3RhYmxlKClcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHdpbl9yZWxvYWQoKVxuICAgICAgICAgICAgfSwxMDAwKVxuICAgICAgICB9XG5cbiAgICB9KVxuXG4gICAgJGQub2ZmKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cInBhcmFtc19yZW1lbWJlclwiXScpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cInBhcmFtc19yZW1lbWJlclwiXScsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgbGV0IHZhbCA9ICQodGhpcykucHJvcCgnY2hlY2tlZCcpXG5cbiAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHR4KSB7XG5cbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ1NFTEVDVCAqIEZST00gdXNlcicsIFtdLCBmdW5jdGlvbiAodHgsIHJlc3VsdHMpIHtcblxuICAgICAgICAgICAgICAgIGlmKCB2YWwgPT0gdHJ1ZSApe1xuICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdVUERBVEUgdXNlciBTRVQgcmVtZW1iZXI9PyB3aGVyZSByb3dpZD0/JywgW1wiMVwiLCAxXSk7XG4gICAgICAgICAgICAgICAgICAgIHJlbWVtYmVyICAgID0gXCIxXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ1VQREFURSB1c2VyIFNFVCByZW1lbWJlcj0/IHdoZXJlIHJvd2lkPT8nLCBbXCIwXCIsIDFdKTtcblxuICAgICAgICAgICAgICAgICAgICByZW1lbWJlciAgICA9IFwiMFwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KVxuXG4gICAgJGQub2ZmKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cImV4cG9ydF9kYXRhYmFzZVwiXScpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cImV4cG9ydF9kYXRhYmFzZVwiXScsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgbGV0IHZhbCA9ICQodGhpcykucHJvcCgnY2hlY2tlZCcpXG5cbiAgICAgICAgaWYoIHZhbCA9PSB0cnVlICl7XG5cbiAgICAgICAgICAgIC8vbGV0IGRhdGFzZGF0YSAgID0gYmFja3VwX2RhdGFiYXNlKFwiZGF0YXNcIik7XG5cbiAgICAgICAgICAgICQud2hlbihcbiAgICAgICAgICAgICAgICBiYWNrdXAoXCJkYXRhc1wiKSxcbiAgICAgICAgICAgICAgICBiYWNrdXAoXCJ1c2VyXCIpXG4gICAgICAgICAgICApLnRoZW4oZnVuY3Rpb24oIGRhdGFzLCB1c2VyICl7XG5cbiAgICAgICAgICAgICAgICBpZiggZGF0YXMubGVuZ3RoID49IDEgKXtcblxuICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiZXhwb3J0X2RhdGFiYXNlXCJdJykuaGlkZSgpXG4gICAgICAgICAgICAgICAgICAgICQoJyNyZXN1bHRfZXhwb3J0X2RhdGFiYXNlJykuZmFkZUluKDMwMCkuYXBwZW5kKCc8c21hbGw+RGF0YSBzdWNjZXNmdWxseSBleHBvcnRlZDwvc21hbGw+JylcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YWRhdGFzID0ge2RhdGFzOmRhdGFzfTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlcmlhbGl6ZWREYXRhRGF0YSA9IEpTT04uc3RyaW5naWZ5KGRhdGFkYXRhcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgZnMud3JpdGVGaWxlKFwiZGF0YS9kYXRhcy5qc29uXCIsIHNlcmlhbGl6ZWREYXRhRGF0YSwgKGVycikgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJleHBvcnRfZGF0YWJhc2VcIl0nKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcjcmVzdWx0X2V4cG9ydF9kYXRhYmFzZV9maWxlJykuaXMoJzpoaWRkZW4nKSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2t1cF9kb3dubG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGlmKCB1c2VyLmxlbmd0aCA+PSAxICl7XG4gICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJleHBvcnRfZGF0YWJhc2VcIl0nKS5oaWRlKClcbiAgICAgICAgICAgICAgICAgICAgJCgnI3Jlc3VsdF9leHBvcnRfZGF0YWJhc2UnKS5mYWRlSW4oMzAwKS5hcHBlbmQoJzxzbWFsbD5Vc2VyIHN1Y2Nlc2Z1bGx5IGV4cG9ydGVkPC9zbWFsbD4nKVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhdXNlciA9IHt1c2VyOnVzZXJ9O1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2VyaWFsaXplZERhdGFVc2VyID0gSlNPTi5zdHJpbmdpZnkoZGF0YXVzZXIpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKCcjcmVzdWx0X2V4cG9ydF9kYXRhYmFzZScpLmZhZGVPdXQoMzAwKS5odG1sKCcnKVxuICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiZXhwb3J0X2RhdGFiYXNlXCJdJykuc2hvdygzMDApXG4gICAgICAgICAgICAgICAgfSwzMDAwKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgfSlcblxuICAgICRkLm9mZignY2xpY2snLCAnI2dldF9hcGlfZm9yX3N5bmNocm9uaXplJykub24oJ2NsaWNrJywgJyNnZXRfYXBpX2Zvcl9zeW5jaHJvbml6ZScsIGZ1bmN0aW9uKCBlICl7XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgbGV0IGFwaWxpbmsgPSAkKCcjYXBpX2Zvcl9zeW5jaHJvbml6ZScpLnZhbCgpXG5cbiAgICAgICAgJCgnI2dldF9hcGlfZm9yX3N5bmNocm9uaXplX3Jlc3VsdF9odG1sJykucmVtb3ZlKClcblxuICAgICAgICBpZiggYXBpbGluay5sZW5ndGggPj0gMjUgKXtcblxuICAgICAgICAgICAgJC5nZXRKU09OKCBhcGlsaW5rLCBmdW5jdGlvbiggZGF0YSApe1xuXG4gICAgICAgICAgICAgICAgaWYoIGRhdGEgKXtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSBkYXRhLmRhdGFzXG5cbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGl0ZW1zLCBmdW5jdGlvbihrLCB2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IHYudGl0bGVcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC53aGVuKCBzeW5jX2RhdGFfY2hlY2soIHRpdGxlICkgKS50aGVuKGZ1bmN0aW9uKCBpdGVtcyApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGl0ZW1zLmxlbmd0aCA8PSAwICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNfZGF0YV9pbnNlcnQodilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2dldF9hcGlfZm9yX3N5bmNocm9uaXplX3Jlc3VsdCcpLmh0bWwoJzxkaXYgaWQ9XCJnZXRfYXBpX2Zvcl9zeW5jaHJvbml6ZV9yZXN1bHRfaHRtbFwiPicrdGl0bGUrJyBpbnNlcmVkLi48L2Rpdj4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjZ2V0X2FwaV9mb3Jfc3luY2hyb25pemVfcmVzdWx0JykuaHRtbCgnPGRpdiBpZD1cImdldF9hcGlfZm9yX3N5bmNocm9uaXplX3Jlc3VsdF9odG1sXCI+QWxsIGl0ZW1zIGFyZSBhbGxyZWFkeSBvbiBkYXRhYmFzZS4uPC9kaXY+JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiggYXBpbGluay5sZW5ndGggPT09IDAgKXtcbiAgICAgICAgICAgICQoJyNhcGlfZm9yX3N5bmNocm9uaXplJykudmFsKFwiRW50ZXIgbGluayBpbiBmaWVsZC4uXCIpXG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgJCgnI2FwaV9mb3Jfc3luY2hyb25pemUnKS52YWwoYXBpbGluayk7IH0sMjAwMClcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICAkKCcjYXBpX2Zvcl9zeW5jaHJvbml6ZScpLnZhbChcIkxpbmsgaXMgbm90IHZhbGlkLi4uXCIpXG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgJCgnI2FwaV9mb3Jfc3luY2hyb25pemUnKS52YWwoYXBpbGluayk7IH0sMjAwMClcbiAgICAgICAgfVxuICAgIH0pXG5cblxuICAgICRkLm9mZignY2xpY2snLCAnI3NlbmRfcGFyYW1zX2VuY3J5cHRpb24nKS5vbignY2xpY2snLCAnI3NlbmRfcGFyYW1zX2VuY3J5cHRpb24nLCBmdW5jdGlvbiggZSApe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBsZXQgdmFsdWUgPSAkKCcjcGFyYW1zX2VuY3J5cHRpb24nKS52YWwoKVxuXG4gICAgICAgIGlmKCB2YWx1ZS5sZW5ndGggPj0gOCApe1xuICAgICAgICAgICAgYWRkX2tleV9lbmNyeXB0aW9uKCB2YWx1ZSApXG5cbiAgICAgICAgICAgICQoJyNwYXJhbXNfZW5jcnlwdGlvbl9yZXN1bHQnKS5odG1sKCc8ZGl2IGlkPVwicGFyYW1zX2VuY3J5cHRpb25fcmVzdWx0X2h0bWxcIj5BZGRlZCAhPC9kaXY+JylcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgJCgnI3BhcmFtc19lbmNyeXB0aW9uX3Jlc3VsdF9odG1sJykucmVtb3ZlKCkgfSwxNTAwKVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICAkKCcjcGFyYW1zX2VuY3J5cHRpb24nKS52YWwoJzggcHJpbnQgbWluaW11bSByZXF1aXJlZC4uJylcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgJCgnI3BhcmFtc19lbmNyeXB0aW9uJykudmFsKHZhbHVlKTsgfSwyMDAwKVxuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgICRkLm9mZignY2hhbmdlJywgJ2lucHV0W25hbWU9XCJlbmNyeXB0X2RhdGFcIl0nKS5vbignY2hhbmdlJywgJ2lucHV0W25hbWU9XCJlbmNyeXB0X2RhdGFcIl0nLCBmdW5jdGlvbigpe1xuXG4gICAgICAgIGxldCB2YWwgPSAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKVxuXG4gICAgICAgIGlmKCB2YWwgPT0gdHJ1ZSApe1xuICAgICAgICAgICAgZW5jcnlwdGlvbl9zdGF0ZV92YWx1ZShcIjFcIilcbiAgICAgICAgICAgICQoJyNwYXJhbXNfZW5jcnlwdGlvbicpLnByb3AoJ3JlYWRvbmx5JywgdHJ1ZSlcbiAgICAgICAgICAgICQoJyNwYXJhbXNfZW5jcnlwdGlvbicpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSlcblxuICAgICAgICAgICAgJCgnI2VuY3J5cHRfZGF0YV9yZXN1bHQnKS5odG1sKCc8ZGl2IGlkPVwiZW5jcnlwdF9kYXRhX3Jlc3VsdF9odG1sXCI+Q3J5cHRlZCAhPC9kaXY+JylcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgJCgnI2VuY3J5cHRfZGF0YV9yZXN1bHRfaHRtbCcpLnJlbW92ZSgpIH0sMTUwMClcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgZW5jcnlwdGlvbl9zdGF0ZV92YWx1ZShcIjBcIilcbiAgICAgICAgICAgICQoJyNwYXJhbXNfZW5jcnlwdGlvbicpLnByb3AoJ3JlYWRvbmx5JywgZmFsc2UpXG4gICAgICAgICAgICAkKCcjcGFyYW1zX2VuY3J5cHRpb24nKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKVxuXG4gICAgICAgICAgICAkKCcjZW5jcnlwdF9kYXRhX3Jlc3VsdCcpLmh0bWwoJzxkaXYgaWQ9XCJlbmNyeXB0X2RhdGFfcmVzdWx0X2h0bWxcIj5EZWNyeXB0ZWQgITwvZGl2PicpXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ICQoJyNlbmNyeXB0X2RhdGFfcmVzdWx0X2h0bWwnKS5yZW1vdmUoKSB9LDE1MDApXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgJGQub2ZmKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cImltcG9ydF9kYXRhYmFzZVwiXScpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cImltcG9ydF9kYXRhYmFzZVwiXScsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgbGV0IGZpbGUgPSAkKHRoaXMpLnZhbCgpXG5cbiAgICAgICAgZnMucmVhZEZpbGUoZmlsZSwgJ3V0ZjgnLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyggZXJyIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgICAgIGxldCBqc29uICAgICAgICA9ICQucGFyc2VKU09OKCBkYXRhIClcbiAgICAgICAgICAgICAgICBsZXQganNvbmRhdGEgICAgPSBqc29uLmRhdGFzXG5cbiAgICAgICAgICAgICAgICAkLmVhY2goanNvbmRhdGEsIGZ1bmN0aW9uKCBrLCB2KXtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSB2LnRpdGxlXG5cbiAgICAgICAgICAgICAgICAgICAgJC53aGVuKCBzeW5jX2RhdGFfY2hlY2soIHRpdGxlICkgKS50aGVuKGZ1bmN0aW9uKCBpdGVtcyApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggaXRlbXMubGVuZ3RoIDw9IDAgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNfZGF0YV9pbnNlcnQodilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjcmVzdWx0X2ltcG9ydF9kYXRhYmFzZScpLnRleHQodi50aXRsZSArICcgaW5zZXJlZCBpbiBkYXRhYmFzZS4uJykuc2hvdygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNyZXN1bHRfaW1wb3J0X2RhdGFiYXNlJykudGV4dCgnQWxsIGl0ZW1zIGFyZSBhbGxyZWFkeSBvbiBkYXRhYmFzZS4uJykuc2hvdygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxuXG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgQUREIERBVEFcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgJGQub2ZmKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cImFkZF9pbWdcIl0nKS5vbignY2hhbmdlJywgJ2lucHV0W25hbWU9XCJhZGRfaW1nXCJdJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBpZiAodGhpcy5maWxlcyAmJiB0aGlzLmZpbGVzWzBdKSB7XG5cbiAgICAgICAgICAgIGxldCByZWFkZXIgICAgICA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkICAgPSBpbWFnZUlzTG9hZGVkO1xuXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTCh0aGlzLmZpbGVzWzBdKTtcbiAgICAgICAgfVxuXG4gICAgfSlcblxuICAgICRkLm9mZignc3VibWl0JywgJyNmb3JtX2FkZF9kYXRhJykub24oJ3N1Ym1pdCcsICcjZm9ybV9hZGRfZGF0YScsIGZ1bmN0aW9uKCBlICl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIGxldCB0aXRsZSAgICAgICA9ICQoJ2lucHV0W25hbWU9XCJhZGRfdGl0bGVcIl0nKS52YWwoKVxuICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBubDJiciggJCgndGV4dGFyZWFbbmFtZT1cImFkZF9kZXNjcmlwdGlvblwiXScpLnZhbCgpIClcblxuICAgICAgICBpZiggdGl0bGUubGVuZ3RoID49IDEgJiYgZGVzY3JpcHRpb24ubGVuZ3RoID49IDEgKXtcblxuICAgICAgICAgICAgbGV0IGltZyAgICAgICAgID0gJCgnaW5wdXRbbmFtZT1cImFkZF9pbWdcIl0nKS52YWwoKVxuXG4gICAgICAgICAgICBsZXQgJHRoaXMgPSAkKCdpbnB1dFtuYW1lPVwiYWRkX2ltZ1wiXScpWzBdXG5cbiAgICAgICAgICAgIGxldCBpbWdzZW5kID0gdXBsb2FkX2ltZyhpbWcsICR0aGlzKTtcblxuICAgICAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHR4KSB7XG5cbiAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKFwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZGF0YXMgKHRpdGxlLCBkZXNjcmlwdGlvbiBMT05HVEVYVCwgaW1nLCBwb3NpdGlvbiwgZGF0ZWFkZCBEQVRFVElNRSwgZGF0ZXVwZGF0ZSBEQVRFVElNRSwgZW5jcnlwdGVkIFZBUkNIQVIgTk9UIE5VTEwgREVGQVVMVCAnMCcsIGNhdGVnb3J5IFZBUkNIQVIgTk9UIE5VTEwgREVGQVVMVCAnMCcpXCIpO1xuXG4gICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIlNFTEVDVCBrZXkgRlJPTSBlbmNyeXB0aW9uXCIsIFtdLCBmdW5jdGlvbih0eCxyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCByZXN1bHRzLnJvd3NbMF0gKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleSA9IHJlc3VsdHMucm93c1swXS5rZXk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZXNjcmlwdGlvbl9lbmNyeXB0ID0gQ3J5cHRvSlMuQUVTLmVuY3J5cHQoZGVzY3JpcHRpb24sIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbl9lbmNyeXB0ID0gZGVzY3JpcHRpb25fZW5jcnlwdC50b1N0cmluZygpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0lOU0VSVCBJTlRPIGRhdGFzICh0aXRsZSwgZGVzY3JpcHRpb24sIGltZywgZGF0ZWFkZCwgZGF0ZXVwZGF0ZSwgZW5jcnlwdGVkLCBjYXRlZ29yeSkgVkFMVUVTIChcIicrdGl0bGUrJ1wiLCBcIicrZGVzY3JpcHRpb25fZW5jcnlwdCsnXCIsIFwiJytpbWdzZW5kKydcIiwgXCInK2RhdGV0aW1lKydcIiwgXCInK2RhdGV0aW1lKydcIiwgXCIxXCIsIFwiMFwiKScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdJTlNFUlQgSU5UTyBkYXRhcyAodGl0bGUsIGRlc2NyaXB0aW9uLCBpbWcsIGRhdGVhZGQsIGRhdGV1cGRhdGUsIGVuY3J5cHRlZCwgY2F0ZWdvcnkpIFZBTFVFUyAoXCInK3RpdGxlKydcIiwgXCInK2Rlc2NyaXB0aW9uKydcIiwgXCInK2ltZ3NlbmQrJ1wiLCBcIicrZGF0ZXRpbWUrJ1wiLCBcIicrZGF0ZXRpbWUrJ1wiLCBcIjBcIiwgXCIwXCIpJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG5cbiAgICAgICAgICAgICAgICAvL3R4LmV4ZWN1dGVTcWwoJ0lOU0VSVCBJTlRPIGRhdGFzICh0aXRsZSwgZGVzY3JpcHRpb24sIGltZywgZGF0ZWFkZCwgZGF0ZXVwZGF0ZSkgVkFMVUVTIChcIicrdGl0bGUrJ1wiLCBcIicrZGVzY3JpcHRpb24rJ1wiLCBcIicraW1nc2VuZCsnXCIsIFwiJytkYXRldGltZSsnXCIsIFwiJytkYXRldGltZSsnXCIpJyk7XG5cbiAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiYWRkX3RpdGxlXCJdJykudmFsKCcnKVxuICAgICAgICAgICAgICAgICQoJ3RleHRhcmVhW25hbWU9XCJhZGRfZGVzY3JpcHRpb25cIl0nKS52YWwoJycpXG4gICAgICAgICAgICAgICAgJCgnZmlsZVtuYW1lPVwiYWRkX2ltZ1wiXScpLnZhbCgnJylcblxuXG4gICAgICAgICAgICAgICAgJC5wb3N0KCcvdGVtcGxhdGVzL3ZpZXcuaHRtbCcsIGZ1bmN0aW9uKCBkYXRhICl7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnI3RlbXBsYXRlX2xvYWQnKS5odG1sKCBkYXRhICk7XG5cbiAgICAgICAgICAgICAgICAgICAgbG9hZF9kYXRhKG9yZGVyKTtcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgaWYodGl0bGUubGVuZ3RoIDw9MCApe1xuXG4gICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cImFkZF90aXRsZVwiXScpLnZhbCgndGhpcyBmaWVsZCBpcyBlbXB0eS4uJylcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cImFkZF90aXRsZVwiXScpLnZhbCh0aXRsZSlcbiAgICAgICAgICAgICAgICB9LDIwMDApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGRlc2NyaXB0aW9uLmxlbmd0aCA8PTAgKXtcblxuICAgICAgICAgICAgICAgICQoJ3RleHRhcmVhW25hbWU9XCJhZGRfZGVzY3JpcHRpb25cIl0nKS52YWwoJ3RoaXMgZmllbGQgaXMgZW1wdHkuLicpXG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQoJ3RleHRhcmVhW25hbWU9XCJhZGRfZGVzY3JpcHRpb25cIl0nKS52YWwoZGVzY3JpcHRpb24pXG4gICAgICAgICAgICAgICAgfSwyMDAwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIEFERCBDQVRFR09SWVxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAkZC5vZmYoJ2NoYW5nZScsICdpbnB1dFtuYW1lPVwiYWRkX2NhdGVnb3J5X2ltZ1wiXScpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cImFkZF9jYXRlZ29yeV9pbWdcIl0nLCBmdW5jdGlvbigpe1xuXG4gICAgICAgIGlmICh0aGlzLmZpbGVzICYmIHRoaXMuZmlsZXNbMF0pIHtcblxuICAgICAgICAgICAgbGV0IHJlYWRlciAgICAgID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgICA9IGltYWdlSXNMb2FkZWQ7XG5cbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHRoaXMuZmlsZXNbMF0pO1xuICAgICAgICB9XG5cbiAgICB9KVxuXG4gICAgJGQub2ZmKCdzdWJtaXQnLCAnI2Zvcm1fYWRkX2NhdGVnb3J5Jykub24oJ3N1Ym1pdCcsICcjZm9ybV9hZGRfY2F0ZWdvcnknLCBmdW5jdGlvbiggZSApe1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBsZXQgdGl0bGUgICAgICAgPSAkKCdpbnB1dFtuYW1lPVwiYWRkX2NhdGVnb3J5X3RpdGxlXCJdJykudmFsKClcbiAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gbmwyYnIoICQoJ3RleHRhcmVhW25hbWU9XCJhZGRfY2F0ZWdvcnlfZGVzY3JpcHRpb25cIl0nKS52YWwoKSApXG5cbiAgICAgICAgaWYoIHRpdGxlLmxlbmd0aCA+PSAxICYmIGRlc2NyaXB0aW9uLmxlbmd0aCA+PSAxICl7XG5cbiAgICAgICAgICAgIGxldCBpbWcgICAgICAgICA9ICQoJ2lucHV0W25hbWU9XCJhZGRfY2F0ZWdvcnlfaW1nXCJdJykudmFsKClcblxuICAgICAgICAgICAgbGV0ICR0aGlzID0gJCgnaW5wdXRbbmFtZT1cImFkZF9jYXRlZ29yeV9pbWdcIl0nKVswXVxuXG4gICAgICAgICAgICBsZXQgaW1nc2VuZCA9IHVwbG9hZF9pbWcoaW1nLCAkdGhpcyk7XG5cbiAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0eCkge1xuXG4gICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGNhdGVnb3J5ICh0aXRsZSwgZGVzY3JpcHRpb24gTE9OR1RFWFQsIGltZywgcG9zaXRpb24sIGRhdGVhZGQgREFURVRJTUUsIGRhdGV1cGRhdGUgREFURVRJTUUpXCIpO1xuXG4gICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnSU5TRVJUIElOVE8gY2F0ZWdvcnkgKHRpdGxlLCBkZXNjcmlwdGlvbiwgaW1nLCBkYXRlYWRkLCBkYXRldXBkYXRlKSBWQUxVRVMgKFwiJyt0aXRsZSsnXCIsIFwiJytkZXNjcmlwdGlvbisnXCIsIFwiJytpbWdzZW5kKydcIiwgXCInK2RhdGV0aW1lKydcIiwgXCInK2RhdGV0aW1lKydcIiknKTtcblxuICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJhZGRfY2F0ZWdvcnlfdGl0bGVcIl0nKS52YWwoJycpXG4gICAgICAgICAgICAgICAgJCgndGV4dGFyZWFbbmFtZT1cImFkZF9jYXRlZ29yeV9kZXNjcmlwdGlvblwiXScpLnZhbCgnJylcbiAgICAgICAgICAgICAgICAkKCdmaWxlW25hbWU9XCJhZGRfY2F0ZWdvcnlfaW1nXCJdJykudmFsKCcnKVxuXG5cbiAgICAgICAgICAgICAgICAkLnBvc3QoJy90ZW1wbGF0ZXMvdmlldy5odG1sJywgZnVuY3Rpb24oIGRhdGEgKXtcblxuICAgICAgICAgICAgICAgICAgICAkKCcjdGVtcGxhdGVfbG9hZCcpLmh0bWwoIGRhdGEgKTtcblxuICAgICAgICAgICAgICAgICAgICBsb2FkX2RhdGEob3JkZXIpO1xuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuXG4gICAgICAgICAgICBpZih0aXRsZS5sZW5ndGggPD0wICl7XG5cbiAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiYWRkX2NhdGVnb3J5X3RpdGxlXCJdJykudmFsKCd0aGlzIGZpZWxkIGlzIGVtcHR5Li4nKVxuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiYWRkX2NhdGVnb3J5X3RpdGxlXCJdJykudmFsKHRpdGxlKVxuICAgICAgICAgICAgICAgIH0sMjAwMClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoZGVzY3JpcHRpb24ubGVuZ3RoIDw9MCApe1xuXG4gICAgICAgICAgICAgICAgJCgndGV4dGFyZWFbbmFtZT1cImFkZF9jYXRlZ29yeV9kZXNjcmlwdGlvblwiXScpLnZhbCgndGhpcyBmaWVsZCBpcyBlbXB0eS4uJylcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJCgndGV4dGFyZWFbbmFtZT1cImFkZF9jYXRlZ29yeV9kZXNjcmlwdGlvblwiXScpLnZhbChkZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICB9LDIwMDApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxuXG5cbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgRURJVCBEQVRBXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgICRkLm9mZignY2hhbmdlJywgJ2lucHV0W25hbWU9XCJlZGl0X2ltZ1wiXScpLm9uKCdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1cImVkaXRfaW1nXCJdJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBpZiAodGhpcy5maWxlcyAmJiB0aGlzLmZpbGVzWzBdKSB7XG5cbiAgICAgICAgICAgIGxldCByZWFkZXIgICAgICA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkICAgPSBpbWFnZUlzTG9hZGVkO1xuXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTCh0aGlzLmZpbGVzWzBdKTtcbiAgICAgICAgfVxuXG4gICAgfSlcblxuICAgICRkLm9mZignY2xpY2snLCAnLnZpZXdfaXRlbV9lZGl0Jykub24oJ2NsaWNrJywgJy52aWV3X2l0ZW1fZWRpdCcsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgbGV0IHJvd2lkID0gJCh0aGlzKS5hdHRyKCdkYXRhLWlkJylcblxuICAgICAgICAkLnBvc3QoJy90ZW1wbGF0ZXMvZWRpdC5odG1sJywgZnVuY3Rpb24oIGRhdGEgKXtcblxuICAgICAgICAgICAgJCgnI3RlbXBsYXRlX2xvYWQnKS5odG1sKCBkYXRhICk7XG5cbiAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHR4KSB7XG5cbiAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdTRUxFQ1QgKiBGUk9NIGRhdGFzIFdIRVJFIHJvd2lkPT8nLCBbcm93aWRdLCBmdW5jdGlvbih0eCwgcmVzdWx0cyl7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIHJlc3VsdHMucm93cyApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSAgICAgICAgPSByZXN1bHRzLnJvd3NbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBkYXRhLmVuY3J5cHRlZCA9PT0gXCIxXCIpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbChcIlNFTEVDVCBrZXkgRlJPTSBlbmNyeXB0aW9uXCIsIFtdLCBmdW5jdGlvbih0eCxyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCByZXN1bHRzLnJvd3NbMF0gKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleSA9IHJlc3VsdHMucm93c1swXS5rZXk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZXNjcmlwdGlvbiA9IGRhdGEuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZXNjcmlwdGlvbl9kZWNyeXB0ID0gQ3J5cHRvSlMuQUVTLmRlY3J5cHQoZGVzY3JpcHRpb24sIGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb25fZGVjcnlwdCA9IGRlc2NyaXB0aW9uX2RlY3J5cHQudG9TdHJpbmcoQ3J5cHRvSlMuZW5jLlV0ZjgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbl9kZWNyeXB0LnJlcGxhY2UoLzxiclxccypcXC8/Pi9naSwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RleHRhcmVhW25hbWU9XCJlZGl0X2Rlc2NyaXB0aW9uXCJdJykudmFsKGRlc2NyaXB0aW9uKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiZW5jcnlwdF9zdGF0ZVwiXScpLnZhbChcIjFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnJlcGxhY2UoLzxiclxccypcXC8/Pi9naSwgXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCd0ZXh0YXJlYVtuYW1lPVwiZWRpdF9kZXNjcmlwdGlvblwiXScpLnZhbChkZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwiZW5jcnlwdF9zdGF0ZVwiXScpLnZhbChcIjBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInJvd19pZFwiXScpLnZhbChyb3dpZClcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJlZGl0X3RpdGxlXCJdJykudmFsKGRhdGEudGl0bGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjYWRkX2ltZ19sb2FkZWQnKS5odG1sKCc8aW1nIHNyYz1cIi91cGxvYWQvJytkYXRhLmltZysnXCIvPicpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgICRkLm9mZignc3VibWl0JywgJyNmb3JtX2VkaXRfZGF0YScpLm9uKCdzdWJtaXQnLCAnI2Zvcm1fZWRpdF9kYXRhJywgZnVuY3Rpb24oIGUgKXtcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICBsZXQgcm93aWQgICAgICAgICAgID0gJCgnaW5wdXRbbmFtZT1cInJvd19pZFwiXScpLnZhbCgpO1xuICAgICAgICBsZXQgdGl0bGUgICAgICAgICAgID0gJCgnaW5wdXRbbmFtZT1cImVkaXRfdGl0bGVcIl0nKS52YWwoKVxuICAgICAgICBsZXQgZGVzY3JpcHRpb24gICAgID0gbmwyYnIoICQoJ3RleHRhcmVhW25hbWU9XCJlZGl0X2Rlc2NyaXB0aW9uXCJdJykudmFsKCkgKVxuICAgICAgICBsZXQgZW5jcnlwdF9zYXRlICAgID0gJCgnaW5wdXRbbmFtZT1cImVuY3J5cHRfc3RhdGVcIl0nKS52YWwoKVxuXG4gICAgICAgIGlmKCB0aXRsZS5sZW5ndGggPj0gMSAmJiBkZXNjcmlwdGlvbi5sZW5ndGggPj0gMSApe1xuXG4gICAgICAgICAgICBsZXQgZGF0ZXRpbWUgICAgPSBtb21lbnQoKS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tOnNzXCIpO1xuICAgICAgICAgICAgbGV0IGltZyAgICAgICAgID0gJCgnaW5wdXRbbmFtZT1cImVkaXRfaW1nXCJdJykudmFsKClcblxuICAgICAgICAgICAgbGV0ICR0aGlzICAgICAgID0gJCgnaW5wdXRbbmFtZT1cImVkaXRfaW1nXCJdJylbMF1cbiAgICAgICAgICAgIGxldCBpbWdzZW5kICAgICA9IHVwbG9hZF9pbWcoaW1nLCAkdGhpcyk7XG5cbiAgICAgICAgICAgIGRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0eCkge1xuXG4gICAgICAgICAgICAgICAgaWYoIGVuY3J5cHRfc2F0ZSA9PT0gXCIxXCIgKXtcblxuICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKFwiU0VMRUNUIGtleSBGUk9NIGVuY3J5cHRpb25cIiwgW10sIGZ1bmN0aW9uKHR4LHJlc3VsdHMpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHJlc3VsdHMucm93c1swXSApe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleSA9IHJlc3VsdHMucm93c1swXS5rZXk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVzY3JpcHRpb25fZW5jcnlwdCA9IENyeXB0b0pTLkFFUy5lbmNyeXB0KGRlc2NyaXB0aW9uLCBrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbl9lbmNyeXB0ID0gZGVzY3JpcHRpb25fZW5jcnlwdC50b1N0cmluZygpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggaW1nc2VuZCAhPSBcImRlZmF1bHQucG5nXCIgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5leGVjdXRlU3FsKCdVUERBVEUgZGF0YXMgU0VUIHRpdGxlPT8sIGRlc2NyaXB0aW9uPT8sIGltZz0/LCBkYXRldXBkYXRlPT8gV0hFUkUgcm93aWQ9PycsIFt0aXRsZSwgZGVzY3JpcHRpb25fZW5jcnlwdCwgaW1nc2VuZCwgZGF0ZXRpbWUsIHJvd2lkXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ1VQREFURSBkYXRhcyBTRVQgdGl0bGU9PywgZGVzY3JpcHRpb249PywgZGF0ZXVwZGF0ZT0/IFdIRVJFIHJvd2lkPT8nLCBbdGl0bGUsIGRlc2NyaXB0aW9uX2VuY3J5cHQsIGRhdGV0aW1lLCByb3dpZF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgICAgICAgICBpZiggaW1nc2VuZCAhPSBcImRlZmF1bHQucG5nXCIgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnVVBEQVRFIGRhdGFzIFNFVCB0aXRsZT0/LCBkZXNjcmlwdGlvbj0/LCBpbWc9PywgZGF0ZXVwZGF0ZT0/IFdIRVJFIHJvd2lkPT8nLCBbdGl0bGUsIGRlc2NyaXB0aW9uLCBpbWdzZW5kLCBkYXRldGltZSwgcm93aWRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgdHguZXhlY3V0ZVNxbCgnVVBEQVRFIGRhdGFzIFNFVCB0aXRsZT0/LCBkZXNjcmlwdGlvbj0/LCBkYXRldXBkYXRlPT8gV0hFUkUgcm93aWQ9PycsIFt0aXRsZSwgZGVzY3JpcHRpb24sIGRhdGV0aW1lLCByb3dpZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJC5wb3N0KCcvdGVtcGxhdGVzL3ZpZXcuaHRtbCcsIGZ1bmN0aW9uKCBkYXRhICl7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnI3RlbXBsYXRlX2xvYWQnKS5odG1sKCBkYXRhICk7XG5cbiAgICAgICAgICAgICAgICAgICAgbG9hZF9kYXRhKG9yZGVyKTtcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcblxuICAgICAgICAgICAgaWYodGl0bGUubGVuZ3RoIDw9MCApe1xuXG4gICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cImFkZF90aXRsZVwiXScpLnZhbCgndGhpcyBmaWVsZCBpcyBlbXB0eS4uJylcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cImFkZF90aXRsZVwiXScpLnZhbCh0aXRsZSlcbiAgICAgICAgICAgICAgICB9LDIwMDApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGRlc2NyaXB0aW9uLmxlbmd0aCA8PTAgKXtcblxuICAgICAgICAgICAgICAgICQoJ3RleHRhcmVhW25hbWU9XCJhZGRfZGVzY3JpcHRpb25cIl0nKS52YWwoJ3RoaXMgZmllbGQgaXMgZW1wdHkuLicpXG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICQoJ3RleHRhcmVhW25hbWU9XCJhZGRfZGVzY3JpcHRpb25cIl0nKS52YWwoZGVzY3JpcHRpb24pXG4gICAgICAgICAgICAgICAgfSwyMDAwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcblxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgIFZJRVcgREFUQVxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAkZC5vZmYoJ2NsaWNrJywgJy52aWV3X2l0ZW1fZGVsZXRlJykub24oJ2NsaWNrJywgJy52aWV3X2l0ZW1fZGVsZXRlJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBsZXQgcm93aWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKVxuXG4gICAgICAgICQoJy5pdGVtLWRlbGV0ZS1jb25maXJtYXRpb25bZGF0YS1pZD1cIicrcm93aWQrJ1wiXScpLmZhZGVJbigzMDApO1xuXG4gICAgfSlcblxuICAgICRkLm9mZignY2xpY2snLCAnLml0ZW1fY29uZmlybV9kZWxldGUnKS5vbignY2xpY2snLCAnLml0ZW1fY29uZmlybV9kZWxldGUnLCBmdW5jdGlvbigpe1xuXG4gICAgICAgIGxldCByb3dpZCA9ICQodGhpcykucGFyZW50KCcuaXRlbS1kZWxldGUtY29uZmlybWF0aW9uJykuYXR0cignZGF0YS1pZCcpXG5cbiAgICAgICAgZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24odHgpIHtcbiAgICAgICAgICAgIHR4LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NIGRhdGFzIFdIRVJFIHJvd2lkPT8nLCBbcm93aWRdKTtcblxuICAgICAgICAgICAgJCgnI3ZpZXdfZGF0YScpLmh0bWwoJycpXG5cbiAgICAgICAgICAgIGxvYWRfZGF0YShvcmRlcik7XG4gICAgICAgIH0pO1xuXG4gICAgfSlcblxuICAgICRkLm9mZignY2xpY2snLCAnLml0ZW1fY2FuY2VsX2RlbGV0ZScpLm9uKCdjbGljaycsICcuaXRlbV9jYW5jZWxfZGVsZXRlJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBsZXQgcm93aWQgPSAkKHRoaXMpLnBhcmVudCgnLml0ZW0tZGVsZXRlLWNvbmZpcm1hdGlvbicpLmF0dHIoJ2RhdGEtaWQnKVxuXG4gICAgICAgICQoJy5pdGVtLWRlbGV0ZS1jb25maXJtYXRpb25bZGF0YS1pZD1cIicrcm93aWQrJ1wiXScpLmZhZGVPdXQoMzAwKTtcblxuICAgIH0pXG5cbiAgICAkZC5vZmYoJ2NsaWNrJywgJy5jYXRlZ29yeS1oaWRlJykub24oJ2NsaWNrJywgJy5jYXRlZ29yeS1oaWRlJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBsZXQgcm93aWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKTtcblxuICAgICAgICBpZiggJCgnLmNhdGVnb3J5LXZpZXctaXRlbVtkYXRhLWlkPVwiJytyb3dpZCsnXCJdJykuaXMoJzp2aXNpYmxlJykgKXtcbiAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ2knKS5jc3MoJ3RyYW5zZm9ybScsJ3JvdGF0ZSgwZGVnKScpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ2knKS5jc3MoJ3RyYW5zZm9ybScsJ3JvdGF0ZSg0NWRlZyknKVxuICAgICAgICB9XG5cbiAgICAgICAgJCgnLmNhdGVnb3J5LXZpZXctaXRlbVtkYXRhLWlkPVwiJytyb3dpZCsnXCJdJykuc2xpZGVUb2dnbGUoMzAwKVxuXG4gICAgfSlcblxuXG4gICAgJGQub2ZmKCdjbGljaycsICcuaGlkZS1pdGVtJykub24oJ2NsaWNrJywgJy5oaWRlLWl0ZW0nLCBmdW5jdGlvbigpe1xuXG4gICAgICAgIGxldCByb3dpZCA9ICQodGhpcykuYXR0cignZGF0YS1pZCcpO1xuXG4gICAgICAgIGlmKCAkKCcuZGVzY3JpcHRpb24taXRlbVtkYXRhLWlkPVwiJytyb3dpZCsnXCJdJykuaXMoJzp2aXNpYmxlJykgKXtcbiAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ2knKS5jc3MoJ3RyYW5zZm9ybScsJ3JvdGF0ZSgwZGVnKScpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICQodGhpcykuY2hpbGRyZW4oJ2knKS5jc3MoJ3RyYW5zZm9ybScsJ3JvdGF0ZSg0NWRlZyknKVxuICAgICAgICB9XG5cbiAgICAgICAgJCgnLmRlc2NyaXB0aW9uLWl0ZW1bZGF0YS1pZD1cIicrcm93aWQrJ1wiXScpLnNsaWRlVG9nZ2xlKDMwMClcblxuICAgIH0pXG5cbiAgICAkZC5vZmYoJ2NsaWNrJywgJy52aWV3X3Nob3dfYWxsX2Rlc2NyaXB0aW9uJykub24oJ2NsaWNrJywgJy52aWV3X3Nob3dfYWxsX2Rlc2NyaXB0aW9uJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBpZiggJCgnLnZpZXctaXRlbScpLmlzKCc6dmlzaWJsZScpICl7XG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKVxuICAgICAgICAgICAgJCgnLnZpZXdfaGlkZV9hbGxfZGVzY3JpcHRpb24nKS5zaG93KClcbiAgICAgICAgICAgICQoJy5kZXNjcmlwdGlvbi1pdGVtJykuc2xpZGVEb3duKDMwMClcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICAkZC5vZmYoJ2NsaWNrJywgJy52aWV3X2hpZGVfYWxsX2Rlc2NyaXB0aW9uJykub24oJ2NsaWNrJywgJy52aWV3X2hpZGVfYWxsX2Rlc2NyaXB0aW9uJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBpZiggJCgnLnZpZXctaXRlbScpLmlzKCc6dmlzaWJsZScpICl7XG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKVxuICAgICAgICAgICAgJCgnLnZpZXdfc2hvd19hbGxfZGVzY3JpcHRpb24nKS5zaG93KClcbiAgICAgICAgICAgICQoJy5kZXNjcmlwdGlvbi1pdGVtJykuc2xpZGVVcCgzMDApXG4gICAgICAgIH1cblxuICAgIH0pXG5cblxuICAgICRkLm9mZignY2xpY2snLCAnLnZpZXdfaGlkZV9hbGxfaXRlbScpLm9uKCdjbGljaycsICcudmlld19oaWRlX2FsbF9pdGVtJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBpZiggJCgnLnZpZXctaXRlbScpLmlzKCc6dmlzaWJsZScpICl7XG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKVxuICAgICAgICAgICAgJCgnLnZpZXdfc2hvd19hbGxfaXRlbScpLnNob3coKVxuICAgICAgICAgICAgJCgnLnZpZXctaXRlbScpLmNzcygnb3BhY2l0eScsICcwJylcbiAgICAgICAgICAgICQoJy5zZWNyZXQtaW1nJykuZmFkZUluKDMwMClcbiAgICAgICAgfVxuXG4gICAgfSlcblxuICAgICRkLm9mZignY2xpY2snLCAnLnZpZXdfc2hvd19hbGxfaXRlbScpLm9uKCdjbGljaycsICcudmlld19zaG93X2FsbF9pdGVtJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBpZiggJCgnLnZpZXctaXRlbScpLmlzKCc6dmlzaWJsZScpICl7XG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKVxuICAgICAgICAgICAgJCgnLnZpZXdfaGlkZV9hbGxfaXRlbScpLnNob3coKVxuICAgICAgICAgICAgJCgnLnZpZXctaXRlbScpLmNzcygnb3BhY2l0eScsJzEnKVxuICAgICAgICAgICAgJCgnLnNlY3JldC1pbWcnKS5mYWRlT3V0KDMwMClcbiAgICAgICAgfVxuXG4gICAgfSlcblxuICAgICRkLm9mZignbW91c2VlbnRlcicsICcuZ3JpcCcpLm9uKCdtb3VzZWVudGVyJywgJy5ncmlwJywgZnVuY3Rpb24oKXtcbiAgICAgICAgbGV0IGRhdGFpZCA9ICQodGhpcykuYXR0cignZGF0YS1pZCcpXG4gICAgICAgICQoJy5ncmlwLW5vdGljZVtkYXRhLWlkPVwiJytkYXRhaWQrJ1wiXScpLmZhZGVJbigzMDApXG4gICAgfSlcbiAgICAkZC5vZmYoJ21vdXNlbGVhdmUnLCAnLmdyaXAsIC52aWV3LWl0ZW0nKS5vbignbW91c2VsZWF2ZScsICcuZ3JpcCwgLnZpZXctaXRlbScsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGxldCBkYXRhaWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKVxuICAgICAgICAkKCcuZ3JpcC1ub3RpY2VbZGF0YS1pZD1cIicrZGF0YWlkKydcIl0nKS5mYWRlT3V0KDMwMClcbiAgICB9KVxuXG4gICAgLypcbiAgICAvL0Rpc2FibGVkXG4gICAgJGQub2ZmKCdjbGljaycsICcudmlld19zb3J0X2l0ZW1fYXNjJykub24oJ2NsaWNrJywgJy52aWV3X3NvcnRfaXRlbV9hc2MnLCBmdW5jdGlvbigpe1xuXG4gICAgICAgIGlmKCAkKCcudmlldy1pdGVtJykuaXMoJzp2aXNpYmxlJykgKXtcblxuICAgICAgICAgICAgb3JkZXIgPSBcIkRFU0NcIjtcblxuICAgICAgICAgICAgJCgnLmZhLXNvcnQtYW1vdW50LWFzYycpLmhpZGUoKVxuICAgICAgICAgICAgJCgnLmZhLXNvcnQtYW1vdW50LWRlc2MnKS5zaG93KClcblxuICAgICAgICAgICAgJCgnLnZpZXctaXRlbScpLnJlbW92ZSgpXG4gICAgICAgICAgICAkKCcjdmlld19kYXRhJykuaHRtbCgnJylcblxuICAgICAgICAgICAgbG9hZF9kYXRhKG9yZGVyKTtcblxuICAgICAgICAgICAgLy9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGxvYWRfZGF0YShvcmRlcik7IH0sMTAwMClcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICAkZC5vZmYoJ2NsaWNrJywgJy52aWV3X3NvcnRfaXRlbV9kZXNjJykub24oJ2NsaWNrJywgJy52aWV3X3NvcnRfaXRlbV9kZXNjJywgZnVuY3Rpb24oKXtcblxuICAgICAgICBpZiggJCgnLnZpZXctaXRlbScpLmlzKCc6dmlzaWJsZScpICl7XG5cbiAgICAgICAgICAgIG9yZGVyID0gXCJBU0NcIjtcblxuICAgICAgICAgICAgJCgnLmZhLXNvcnQtYW1vdW50LWRlc2MnKS5oaWRlKClcbiAgICAgICAgICAgICQoJy5mYS1zb3J0LWFtb3VudC1hc2MnKS5zaG93KClcblxuICAgICAgICAgICAgJCgnLnZpZXctaXRlbScpLnJlbW92ZSgpXG4gICAgICAgICAgICAkKCcjdmlld19kYXRhJykuaHRtbCgnJylcblxuICAgICAgICAgICAgbG9hZF9kYXRhKG9yZGVyKTtcblxuICAgICAgICAgICAgLy9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGxvYWRfZGF0YShvcmRlcik7IH0sMTAwMClcbiAgICAgICAgfVxuICAgIH0pXG4gICAgKi9cblxuXG59XG5leHBvcnQgZGVmYXVsdCBhcHBcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBhc3NldHMvanMvYXBwLmpzIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUE1QkE7QUE4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJDQTtBQXdDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7O0FBS0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXdDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n");

/***/ })

});